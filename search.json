[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Mandat analyse de données de ventes Dunin",
    "section": "",
    "text": "1 Définition des objectifs du projet\nCe document introduit le projet Mandat Dunin. Il s’agit d’un mandat d’analyse de données visant à extraire de la valeur à partir des données commerciales et opérationnelles d’une entreprise, en vue d’optimiser ses performances de ventes et marketing.\nMettre en place une solution d’analyse automatisée des données de vente afin d’identifier les tendances clés et les opportunités d’amélioration de la performance commerciale.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Acceuil</span>"
    ]
  },
  {
    "objectID": "index.html#équipe-et-parties-prenantes",
    "href": "index.html#équipe-et-parties-prenantes",
    "title": "Mandat analyse de données de ventes Dunin",
    "section": "2.1 Équipe et parties prenantes",
    "text": "2.1 Équipe et parties prenantes\nDatcha simon-pierre Beugré : Consultant\nMarc André : Encadreur , product owner",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Acceuil</span>"
    ]
  },
  {
    "objectID": "scripts/data_collection.html",
    "href": "scripts/data_collection.html",
    "title": "2  Collecte et extractions des données",
    "section": "",
    "text": "3 Identification et collecte des sources de données",
    "crumbs": [
      "Phase 1 : collecte de données",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Collecte  et extractions des données</span>"
    ]
  },
  {
    "objectID": "scripts/data_collection.html#chargement-des-fichiers-xmls",
    "href": "scripts/data_collection.html#chargement-des-fichiers-xmls",
    "title": "2  Collecte et extractions des données",
    "section": "7.1 chargement des fichiers xmls",
    "text": "7.1 chargement des fichiers xmls\nLe système traite trois types de documents XML :\nProjets : Informations sur les projets clients et leurs caractéristiques Commandes : Données commerciales et d’ingenierie des commandes (DocumXML et EveXML) Contrats : Informations contractuelles et d’ingenierie (DocumXML et EveXML)\nChaque type de document contient des structures hiérarchiques avec des objets () et des propriétés () qu’il faut normaliser en tables plates.\n\nsource(\"C:/Users/18195/Documents/dunin/utils/extract/xml.R\")\nload(\"C:/Users/18195/Documents/dunin/data/raw/xml/commandes_xmls.RData\")\nload(\"C:/Users/18195/Documents/dunin/data/raw/xml/contrats_xmls.RData\")\nload(\"C:/Users/18195/Documents/dunin/data/raw/xml/projets_xmls.RData\")",
    "crumbs": [
      "Phase 1 : collecte de données",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Collecte  et extractions des données</span>"
    ]
  },
  {
    "objectID": "scripts/data_collection.html#méthodologie-dextraction",
    "href": "scripts/data_collection.html#méthodologie-dextraction",
    "title": "2  Collecte et extractions des données",
    "section": "7.2 Méthodologie d’extraction",
    "text": "7.2 Méthodologie d’extraction\nFonctions principales développées\nconvert_xml_file_To_Tibble()\nCette fonction constitue le cœur du processus d’extraction :\n\nObjectif : Convertir un document XML en liste de tables classées par type d’objet\nMécanisme : Parcours récursif des nœuds  pour extraire les propriétés de type \nFiltrage : Possibilité de sélectionner des classes spécifiques via le paramètre select_clas Validation : Vérification de cohérence entre noms de propriétés et valeurs\n\nconvert_Xmlfiles_Data_from_tableToTbls()\nFonction d’agrégation permettant de :\nTraiter une liste complète de fichiers XML Ajouter des identifiants parents pour maintenir la traçabilité Fusionner les tables par classe d’objet Garantir l’intégrité référentielle entre fichiers",
    "crumbs": [
      "Phase 1 : collecte de données",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Collecte  et extractions des données</span>"
    ]
  },
  {
    "objectID": "scripts/data_collection.html#processus-dextraction-par-type",
    "href": "scripts/data_collection.html#processus-dextraction-par-type",
    "title": "2  Collecte et extractions des données",
    "section": "7.3 Processus d’extraction par type",
    "text": "7.3 Processus d’extraction par type\n\n# ==========================\nlibrary(xml2)      # Pour lire et manipuler des fichiers XML\nlibrary(dplyr)     # Pour manipuler les tableaux de données (tibbles)\nlibrary(purrr)     # Pour les fonctions de programmation fonctionnelle (map, walk, etc.)\nlibrary(stringr)   # Pour manipuler les chaînes de caractères\nlibrary(tibble)    # Pour créer des objets tibbles (données tabulaires modernes)\n\n# ==========================\n# Fonction : convert_xml_file_To_Tibble\n# Objectif : Convertir un document XML en une liste de tables (tibbles) classées par type d'objet\n# ==========================\nconvert_xml_file_To_Tibble &lt;- function(doc, select_clas = NULL) {\n  tryCatch({\n\n    # --- Étape 1 : Vérification et conversion de l'objet XML ---\n    if (!inherits(doc, \"xml_document\")) {\n      doc &lt;- as_xml_document(doc)\n      cat(\"L'entrée a été convertie en un objet xml_document \\n\")\n    }\n\n    root &lt;- xml_root(doc)\n    if (is.null(root)) {\n      warning(\"Le document XML est vide\")\n      return(list())\n    }\n\n    # --- Étape 2 : Préparer le filtre de sélection ---\n    select_pattern &lt;- as.character(select_clas %||% character(0))\n    has_selection &lt;- length(select_pattern) &gt; 0\n\n    # --- Étape 3 : Initialiser le conteneur de résultats ---\n    tables &lt;- list()\n\n    # --- Étape 4 : Fonction récursive de parcours des noeuds &lt;obj&gt; ---\n    parse_obj &lt;- function(node) {\n      tryCatch({\n        clas &lt;- xml_attr(node, \"clas\")\n        if (is.na(clas) || is.null(clas)) return()\n\n        # Si sélection active, ignorer les noeuds non correspondants\n        if (has_selection) {\n          keep &lt;- str_detect(clas, regex(select_pattern, ignore_case = TRUE))\n          if (!keep) return()\n        }\n\n        # Extraire les propriétés de type &lt;prop&gt; sans sous-éléments\n        props &lt;- xml_find_all(node, \"./prop[not(*) and not(.//obj)]\")\n        if (length(props) == 0) return()\n\n        texts &lt;- xml_text(props) %&gt;% trimws()\n        names &lt;- xml_attr(props, \"nom\") %&gt;% str_remove(\"^\\\\$\")\n\n        # Vérification cohérence nom/valeur\n        if (length(texts) != length(names)) {\n          warning(sprintf(\"Incohérence dans %s : %d valeurs / %d noms\",\n                          clas, length(texts), length(names)))\n          return()\n        }\n\n        # Création d'une ligne de données nommée\n        row &lt;- set_names(texts, names)\n\n        # Ajout de la ligne à la bonne table\n        if (is.null(tables[[clas]])) tables[[clas]] &lt;&lt;- tibble()\n        tables[[clas]] &lt;&lt;- tryCatch(\n          bind_rows(tables[[clas]], as_tibble_row(row)),\n          error = function(e) {\n            warning(sprintf(\"bind_rows échoue pour %s : %s\", clas, e$message))\n            tables[[clas]]\n          }\n        )\n\n        # Parcours récursif des objets enfants\n        children &lt;- c(xml_find_all(node, \"./prop//obj\"),\n                      xml_find_all(node, \"./prop//entr/obj\"))\n        walk(children, parse_obj)\n\n      }, error = function(e) {\n        warning(sprintf(\"Erreur lors du traitement du nœud : %s\", e$message))\n      })\n    }\n\n    # --- Étape 5 : Démarrer l'extraction à partir des objets &lt;obj&gt; ---\n    objs &lt;- tryCatch(xml_find_all(root, \".//obj\"),\n                     error = function(e) xml_nodeset())\n    if (length(objs)) walk(objs, parse_obj)\n\n    # --- Étape 6 : Nettoyer les noms de colonnes (supprimer les caractères non alphanumériques) ---\n    tables &lt;- map(tables, ~ tryCatch(\n      rename_with(., ~ str_replace_all(.x, \"[^[:alnum:]_]\", \"\")),\n      error = function(e) .\n    ))\n\n    cat(\"Conversion terminée\\n\")\n    return(tables)\n\n  }, error = function(e) {\n    warning(\"Erreur globale :\", e$message)\n    return(list())\n  })\n}\n\n# ==========================\n# Fonction : convert_Xmlfiles_Data_ToTbl\n# Objectif : Convertir une liste de fichiers XML en une liste de tables unifiées (fusionnées par classe)\n# ==========================\nconvert_Xmlfiles_Data_from_tableToTbls &lt;- function(files, select_clas = NULL, parentName = NULL, parentIDS = NULL) {\n  # Vérifier que parentName et parentIDS sont fournis ensemble\n  if (is.null(parentName) || is.null(parentIDS)) {\n    stop(\"parentName et parentIDS doivent être fournis ensemble ou non fournis du tout\")\n  }\n\n  # Vérifier que files et parentIDS ont la même longueur si parentIDS est fourni\n  if (!is.null(parentIDS) && length(files) != length(parentIDS)) {\n    stop(\"La longueur de 'files' doit être égale à celle de 'parentIDS'\")\n  }\n\n  # Appliquer la conversion à chaque fichier avec son ID parent associé\n  data &lt;- lapply(seq_along(files), function(i) {\n    tbls &lt;- convert_xml_file_To_Tibble(files[[i]], select_clas)\n    \n    # Ajouter la colonne parent si parentName et parentIDS sont fournis\n    if (!is.null(parentName) && !is.null(parentIDS)) {\n      tbls &lt;- lapply(tbls, function(tbl) {\n        if (is.data.frame(tbl) && nrow(tbl) &gt; 0) {\n          tbl[[parentName]] &lt;- parentIDS[[i]]\n          tbl\n        } else {\n          tbl\n        }\n      })\n    }\n    tbls\n  })\n\n  # Fusionner les tables par nom de classe (clé de liste)\n  tbls &lt;- lapply(names(data[[1]]), function(tblName) {\n    map_dfr(data, tblName)\n  })\n  \n  names(tbls) &lt;- names(data[[1]])\n  return(tbls)\n}\n\n\nprojets_xmls_extracted_tables &lt;- convert_Xmlfiles_Data_from_tableToTbls(\n  files = projets_xmls$projetXMLS,\n  parentName = \"projet_id\",\n  parentIDS = projets_xmls$Ids\n)\n\nsave(projets_xmls_extracted_tables,file=\"data/extracted/projets_xmls_extracted_tables.RData\")\n\n\ncommandes_xmls_extracted_tables &lt;- list()\ncommandes_xmls_extracted_tables$DocumXML&lt;-convert_Xmlfiles_Data_from_tableToTbls(\n files = commandes_xmls$DocumXMLS,\n parentName = \"commande_id\",\n parentIDS = commandes_xmls$Ids\n)\n\ncommandes_xmls_extracted_tables$EveXML&lt;-convert_Xmlfiles_Data_from_tableToTbls(\n files = commandes_xmls$EveXMLS,\n select_clas = 'kit',\n parentName = \"commande_id\",\n parentIDS = commandes_xmls$Ids\n)\n\nsave(commandes_xmls_extracted_tables,file=\"data/extracted/commandes_xmls_extracted_tables.RData\")\n\n\ncontrats_xmls_extracted_tables &lt;- list()\n\ncontrats_xmls_extracted_tables$DocumXML&lt;-convert_Xmlfiles_Data_from_tableToTbls(\n files = contrats_xmls$DocumXMLS,\n parentName = \"contrat_id\",\n parentIDS = contrats_xmls$Ids\n)\n\ncontrats_xmls_extracted_tables$EveXML&lt;-convert_Xmlfiles_Data_from_tableToTbls(\n files = contrats_xmls$EveXMLS,\n parentName = \"contrat_id\",\n select_clas = 'kit',\n parentIDS = contrats_xmls$Ids\n)\n\nsave(contrats_xmls_extracted_tables,file=\"data/extracted/contrats_xmls_extracted_tables.RData\")",
    "crumbs": [
      "Phase 1 : collecte de données",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Collecte  et extractions des données</span>"
    ]
  },
  {
    "objectID": "scripts/data_collection.html#commandes",
    "href": "scripts/data_collection.html#commandes",
    "title": "2  Collecte et extractions des données",
    "section": "8.1 Commandes",
    "text": "8.1 Commandes\n\ncommandes_xmls_extracted_tables$DocumXML |&gt; print()\n\n$Comm\n# A tibble: 714 × 173\n   aNote   documSource estCQ   estCQSup estImport estReprise dateAcompte1Emis\n   &lt;chr&gt;   &lt;chr&gt;       &lt;chr&gt;   &lt;chr&gt;    &lt;chr&gt;     &lt;chr&gt;      &lt;chr&gt;           \n 1 \"false\" \"false\"     \"false\" \"false\"  \"false\"   \"false\"    2023/08/30      \n 2 \"\"      \"\"          \"\"      \"\"       \"\"        \"\"         &lt;NA&gt;            \n 3 \"false\" \"false\"     \"false\" \"false\"  \"false\"   \"false\"    &lt;NA&gt;            \n 4 \"false\" \"false\"     \"false\" \"false\"  \"false\"   \"false\"    &lt;NA&gt;            \n 5 \"false\" \"false\"     \"false\" \"false\"  \"false\"   \"false\"    &lt;NA&gt;            \n 6 \"false\" \"false\"     \"false\" \"false\"  \"false\"   \"false\"    &lt;NA&gt;            \n 7 \"false\" \"false\"     \"false\" \"false\"  \"false\"   \"false\"    &lt;NA&gt;            \n 8 \"false\" \"false\"     \"false\" \"false\"  \"false\"   \"false\"    &lt;NA&gt;            \n 9 \"false\" \"false\"     \"false\" \"false\"  \"false\"   \"false\"    &lt;NA&gt;            \n10 \"false\" \"false\"     \"false\" \"false\"  \"false\"   \"false\"    2024/01/12      \n# ℹ 704 more rows\n# ℹ 166 more variables: fgfExclu &lt;chr&gt;, installExclu &lt;chr&gt;, matExclu &lt;chr&gt;,\n#   moExclu &lt;chr&gt;, pourcAcompte1 &lt;chr&gt;, pourcAcompte2 &lt;chr&gt;, solde &lt;chr&gt;,\n#   transportExclu &lt;chr&gt;, appNotifObligs &lt;chr&gt;, appNotifs &lt;chr&gt;,\n#   codeClient2 &lt;chr&gt;, dateValidite &lt;chr&gt;, delaiPrevExped &lt;chr&gt;,\n#   disclaimers &lt;chr&gt;, emplacementCre &lt;chr&gt;, enErreur &lt;chr&gt;, enPSD &lt;chr&gt;,\n#   identCour &lt;chr&gt;, nbJourValide &lt;chr&gt;, nomClient &lt;chr&gt;, projet &lt;chr&gt;, …\n\n$Etape\n# A tibble: 2,439 × 6\n   createur  dateCreation emplacement   statut tempsCreation    commande_id\n   &lt;chr&gt;     &lt;chr&gt;        &lt;chr&gt;         &lt;chr&gt;  &lt;chr&gt;            &lt;chr&gt;      \n 1 dunintech 2023/08/30   Manufacturier Saisie 2023/08/30 10:48 C-000001   \n 2 dunintech 2023/08/30   Manufacturier Saisie 2023/08/30 10:48 C-000001   \n 3 dunintech 2023/08/30   Manufacturier Saisie 2023/08/30 10:48 C-000001   \n 4 glebel    2023/08/31   Manufacturier Saisie 2023/08/31 09:11 C-000002   \n 5 glebel    2023/08/31   Manufacturier Saisie 2023/08/31 09:11 C-000002   \n 6 glebel    2023/08/31   Manufacturier Saisie 2023/08/31 09:11 C-000002   \n 7 clientweb 2023/09/14   Client        Saisie 2023/09/14 07:53 C-000003   \n 8 clientweb 2023/09/14   Client        Saisie 2023/09/14 07:53 C-000003   \n 9 clientweb 2023/09/14   Client        Saisie 2023/09/14 07:53 C-000003   \n10 clientweb 2023/09/14   Client        Saisie 2023/09/14 08:19 C-000004   \n# ℹ 2,429 more rows\n\n$SommaireKit\n# A tibble: 7,317 × 7\n   code     no    ligne  pourcEsc pourcEscSup sousTotal commande_id\n   &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt;    &lt;chr&gt;       &lt;chr&gt;     &lt;chr&gt;      \n 1 k01      1     Custom 0        0           346.43    C-000001   \n 2 Contour  &lt;NA&gt;  &lt;NA&gt;   0        0           0         C-000001   \n 3 Plancher &lt;NA&gt;  &lt;NA&gt;   0        0           0         C-000001   \n 4 Plafond  &lt;NA&gt;  &lt;NA&gt;   0        0           0         C-000001   \n 5 k01      1     Custom 0        0           346.43    C-000001   \n 6 Contour  &lt;NA&gt;  &lt;NA&gt;   0        0           0         C-000001   \n 7 Plancher &lt;NA&gt;  &lt;NA&gt;   0        0           0         C-000001   \n 8 Plafond  &lt;NA&gt;  &lt;NA&gt;   0        0           0         C-000001   \n 9 k01      1     Custom 0        0           346.43    C-000001   \n10 Contour  &lt;NA&gt;  &lt;NA&gt;   0        0           0         C-000001   \n# ℹ 7,307 more rows\n\ncommandes_xmls_extracted_tables$EveXML |&gt; print()\n\n$Kit\n# A tibble: 958 × 128\n   porteModeleB                porteModeleBSensGrain porteModeleFacadeBSensGrain\n   &lt;chr&gt;                       &lt;chr&gt;                 &lt;chr&gt;                      \n 1 Manufacturier~PLAT 16mm_MDF sensGrain_Vert        sensGrain_Vert             \n 2 &lt;NA&gt;                        &lt;NA&gt;                  sensGrain_Vert             \n 3 &lt;NA&gt;                        &lt;NA&gt;                  &lt;NA&gt;                       \n 4 &lt;NA&gt;                        &lt;NA&gt;                  &lt;NA&gt;                       \n 5 &lt;NA&gt;                        &lt;NA&gt;                  &lt;NA&gt;                       \n 6 Manufacturier~PLAT 16mm_MDF sensGrain_Vert        sensGrain_Vert             \n 7 Manufacturier~PLAT_16mm_MDF sensGrain_Vert        sensGrain_Vert             \n 8 Manufacturier~PLAT_16mm_MDF sensGrain_Vert        sensGrain_Vert             \n 9 Manufacturier~7053          sensGrain_Vert        sensGrain_Vert             \n10 Manufacturier~PLAT 16mm_MDF sensGrain_Vert        sensGrain_Vert             \n# ℹ 948 more rows\n# ℹ 125 more variables: porteModeleFacadeHSensGrain &lt;chr&gt;, porteModeleH &lt;chr&gt;,\n#   porteModeleHSensGrain &lt;chr&gt;, beamModele &lt;chr&gt;, moulLumHeight &lt;chr&gt;,\n#   moulLumModele &lt;chr&gt;, moulPiedHeight &lt;chr&gt;, moulPiedModele &lt;chr&gt;,\n#   sousTotalKit &lt;chr&gt;, typeColor &lt;chr&gt;, porteModeleFacadeB &lt;chr&gt;,\n#   porteModeleFacadeH &lt;chr&gt;, cle &lt;chr&gt;, code &lt;chr&gt;, enErreur &lt;chr&gt;,\n#   estExtra &lt;chr&gt;, no &lt;chr&gt;, nom &lt;chr&gt;, qte &lt;chr&gt;, qteTr &lt;chr&gt;, …\n\n$KitMurContour\n# A tibble: 658 × 119\n   epais              porteModeleB  porteModeleBSensGrain porteModeleFacadeBSe…¹\n   &lt;chr&gt;              &lt;chr&gt;         &lt;chr&gt;                 &lt;chr&gt;                 \n 1 152.39999999999998 Manufacturie… sensGrain_Vert        sensGrain_Vert        \n 2 152.39999999999998 &lt;NA&gt;          &lt;NA&gt;                  &lt;NA&gt;                  \n 3 152.39999999999998 &lt;NA&gt;          &lt;NA&gt;                  &lt;NA&gt;                  \n 4 152.39999999999998 &lt;NA&gt;          &lt;NA&gt;                  &lt;NA&gt;                  \n 5 152.39999999999998 Manufacturie… sensGrain_Vert        sensGrain_Vert        \n 6 152.39999999999998 Manufacturie… sensGrain_Vert        sensGrain_Vert        \n 7 152.39999999999998 Manufacturie… sensGrain_Vert        sensGrain_Vert        \n 8 152.39999999999998 Manufacturie… sensGrain_Vert        sensGrain_Vert        \n 9 152.39999999999998 Manufacturie… sensGrain_Vert        sensGrain_Vert        \n10 152.39999999999998 Manufacturie… sensGrain_Vert        sensGrain_Vert        \n# ℹ 648 more rows\n# ℹ abbreviated name: ¹​porteModeleFacadeBSensGrain\n# ℹ 115 more variables: porteModeleFacadeHSensGrain &lt;chr&gt;, porteModeleH &lt;chr&gt;,\n#   porteModeleHSensGrain &lt;chr&gt;, beamModele &lt;chr&gt;, moulLumHeight &lt;chr&gt;,\n#   moulLumModele &lt;chr&gt;, moulPiedHeight &lt;chr&gt;, moulPiedModele &lt;chr&gt;,\n#   sousTotalKit &lt;chr&gt;, typeColor &lt;chr&gt;, porteModeleFacadeB &lt;chr&gt;,\n#   porteModeleFacadeH &lt;chr&gt;, enErreur &lt;chr&gt;, estExtra &lt;chr&gt;, qte &lt;chr&gt;, …\n\n$KitPlancher\n# A tibble: 626 × 117\n   porteModeleB                porteModeleBSensGrain porteModeleFacadeBSensGrain\n   &lt;chr&gt;                       &lt;chr&gt;                 &lt;chr&gt;                      \n 1 Manufacturier~PLAT 16mm_MDF sensGrain_Vert        sensGrain_Vert             \n 2 &lt;NA&gt;                        &lt;NA&gt;                  &lt;NA&gt;                       \n 3 &lt;NA&gt;                        &lt;NA&gt;                  &lt;NA&gt;                       \n 4 &lt;NA&gt;                        &lt;NA&gt;                  &lt;NA&gt;                       \n 5 Manufacturier~PLAT 16mm_MDF sensGrain_Vert        sensGrain_Vert             \n 6 Manufacturier~PLAT_16mm_MDF sensGrain_Vert        sensGrain_Vert             \n 7 Manufacturier~PLAT_16mm_MDF sensGrain_Vert        sensGrain_Vert             \n 8 Manufacturier~PLAT 16mm_MDF sensGrain_Vert        sensGrain_Vert             \n 9 Manufacturier~PLAT 16mm_MDF sensGrain_Vert        sensGrain_Vert             \n10 Manufacturier~PLAT 16mm_MDF sensGrain_Vert        sensGrain_Vert             \n# ℹ 616 more rows\n# ℹ 114 more variables: porteModeleFacadeHSensGrain &lt;chr&gt;, porteModeleH &lt;chr&gt;,\n#   porteModeleHSensGrain &lt;chr&gt;, beamModele &lt;chr&gt;, moulLumHeight &lt;chr&gt;,\n#   moulLumModele &lt;chr&gt;, moulPiedHeight &lt;chr&gt;, moulPiedModele &lt;chr&gt;,\n#   sousTotalKit &lt;chr&gt;, typeColor &lt;chr&gt;, porteModeleFacadeB &lt;chr&gt;,\n#   porteModeleFacadeH &lt;chr&gt;, enErreur &lt;chr&gt;, estExtra &lt;chr&gt;, qte &lt;chr&gt;,\n#   qteTr &lt;chr&gt;, aBomCustom &lt;chr&gt;, gTot &lt;chr&gt;, unit &lt;chr&gt;, …\n\n$KitPlafond\n# A tibble: 626 × 117\n   porteModeleB                porteModeleBSensGrain porteModeleFacadeBSensGrain\n   &lt;chr&gt;                       &lt;chr&gt;                 &lt;chr&gt;                      \n 1 Manufacturier~PLAT 16mm_MDF sensGrain_Vert        sensGrain_Vert             \n 2 &lt;NA&gt;                        &lt;NA&gt;                  &lt;NA&gt;                       \n 3 &lt;NA&gt;                        &lt;NA&gt;                  &lt;NA&gt;                       \n 4 &lt;NA&gt;                        &lt;NA&gt;                  &lt;NA&gt;                       \n 5 Manufacturier~PLAT 16mm_MDF sensGrain_Vert        sensGrain_Vert             \n 6 Manufacturier~PLAT_16mm_MDF sensGrain_Vert        sensGrain_Vert             \n 7 Manufacturier~PLAT_16mm_MDF sensGrain_Vert        sensGrain_Vert             \n 8 Manufacturier~PLAT 16mm_MDF sensGrain_Vert        sensGrain_Vert             \n 9 Manufacturier~PLAT 16mm_MDF sensGrain_Vert        sensGrain_Vert             \n10 Manufacturier~PLAT 16mm_MDF sensGrain_Vert        sensGrain_Vert             \n# ℹ 616 more rows\n# ℹ 114 more variables: porteModeleFacadeHSensGrain &lt;chr&gt;, porteModeleH &lt;chr&gt;,\n#   porteModeleHSensGrain &lt;chr&gt;, beamModele &lt;chr&gt;, moulLumHeight &lt;chr&gt;,\n#   moulLumModele &lt;chr&gt;, moulPiedHeight &lt;chr&gt;, moulPiedModele &lt;chr&gt;,\n#   sousTotalKit &lt;chr&gt;, typeColor &lt;chr&gt;, porteModeleFacadeB &lt;chr&gt;,\n#   porteModeleFacadeH &lt;chr&gt;, enErreur &lt;chr&gt;, estExtra &lt;chr&gt;, qte &lt;chr&gt;,\n#   qteTr &lt;chr&gt;, aBomCustom &lt;chr&gt;, gTot &lt;chr&gt;, unit &lt;chr&gt;, …",
    "crumbs": [
      "Phase 1 : collecte de données",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Collecte  et extractions des données</span>"
    ]
  },
  {
    "objectID": "scripts/data_collection.html#contrats",
    "href": "scripts/data_collection.html#contrats",
    "title": "2  Collecte et extractions des données",
    "section": "8.2 Contrats",
    "text": "8.2 Contrats\n\ncontrats_xmls_extracted_tables$DocumXML |&gt; print()\n\n$Contrat\n# A tibble: 3,104 × 155\n   codeClient2 dateValidite delaiPrevExped emplacementCre identCour nbJourValide\n   &lt;chr&gt;       &lt;chr&gt;        &lt;chr&gt;          &lt;chr&gt;          &lt;chr&gt;     &lt;chr&gt;       \n 1 ALaplante   2025/03/10   2              Interne        0         60          \n 2 ABrealt     2025/04/12   2              Interne        0         &lt;NA&gt;        \n 3 ACloutier   &lt;NA&gt;         2              Interne        0         60          \n 4 RBouchard   2025/04/25   2              Interne        0         60          \n 5 ABrealt     2025/05/27   2              Interne        0         &lt;NA&gt;        \n 6 ALaplante   2025/04/10   2              Interne        0         60          \n 7 ABrealt     2025/04/08   2              Interne        0         &lt;NA&gt;        \n 8 CRobitaille 2025/03/10   2              Interne        0         60          \n 9 ABrealt     2025/04/08   2              Interne        0         &lt;NA&gt;        \n10 ALaplante   2025/03/27   2              Interne        0         60          \n# ℹ 3,094 more rows\n# ℹ 149 more variables: nomClient &lt;chr&gt;, projet &lt;chr&gt;, promotions &lt;chr&gt;,\n#   qteItems &lt;chr&gt;, qteItemsCab &lt;chr&gt;, roleProprietaire &lt;chr&gt;, sorte &lt;chr&gt;,\n#   type &lt;chr&gt;, typeClient &lt;chr&gt;, typeProcess &lt;chr&gt;, validCred &lt;chr&gt;,\n#   ligne &lt;chr&gt;, cleEnMain &lt;chr&gt;, installateur &lt;chr&gt;, installation &lt;chr&gt;,\n#   priseMesure &lt;chr&gt;, assemblage &lt;chr&gt;, edgeColle &lt;chr&gt;, gamme &lt;chr&gt;,\n#   cleItem &lt;chr&gt;, createurCourriel &lt;chr&gt;, createurNom &lt;chr&gt;, …\n\n$Disclaimer\n# A tibble: 19,227 × 5\n   condition terme           contrat_id  termeImage termeDescrip\n   &lt;chr&gt;     &lt;chr&gt;           &lt;chr&gt;       &lt;chr&gt;      &lt;chr&gt;       \n 1 \"\"        PriseMesure_100 P-000390-S1 &lt;NA&gt;       &lt;NA&gt;        \n 2 \"\"        Electro_90      P-000390-S1 &lt;NA&gt;       &lt;NA&gt;        \n 3 \"\"        PriseMesure_100 P-000390-S1 &lt;NA&gt;       &lt;NA&gt;        \n 4 \"\"        Electro_90      P-000390-S1 &lt;NA&gt;       &lt;NA&gt;        \n 5 \"\"        PriseMesure_100 P-000390-S1 &lt;NA&gt;       &lt;NA&gt;        \n 6 \"\"        Electro_90      P-000390-S1 &lt;NA&gt;       &lt;NA&gt;        \n 7 \"\"        PriseMesure_100 P-000390-S2 &lt;NA&gt;       &lt;NA&gt;        \n 8 \"\"        Electro_90      P-000390-S2 &lt;NA&gt;       &lt;NA&gt;        \n 9 \"\"        Contrainte_10_1 P-000390-S2 &lt;NA&gt;       &lt;NA&gt;        \n10 \"\"        Comptoir_02_1   P-000390-S2 &lt;NA&gt;       &lt;NA&gt;        \n# ℹ 19,217 more rows\n\n$Etape\n# A tibble: 9,225 × 6\n   createur            dateCreation emplacement  statut tempsCreation contrat_id\n   &lt;chr&gt;               &lt;chr&gt;        &lt;chr&gt;        &lt;chr&gt;  &lt;chr&gt;         &lt;chr&gt;     \n 1 alaplante           2025/01/09   Manufacturi… Saisie 2025/01/09 1… P-000390-…\n 2 alaplante           2025/01/09   Manufacturi… Saisie 2025/01/09 1… P-000390-…\n 3 alaplante           2025/01/09   Manufacturi… Saisie 2025/01/09 1… P-000390-…\n 4 abreault            2025/01/13   Manufacturi… Saisie 2025/01/13 1… P-000390-…\n 5 abreault            2025/01/13   Manufacturi… Saisie 2025/01/13 1… P-000390-…\n 6 abreault            2025/01/13   Manufacturi… Saisie 2025/01/13 1… P-000390-…\n 7 abreault            2025/02/25   Manufacturi… Saisie 2025/02/25 0… P-000554-…\n 8 abreault            2025/02/25   Manufacturi… Saisie 2025/02/25 0… P-000554-…\n 9 abreault            2025/02/25   Manufacturi… Saisie 2025/02/25 0… P-000554-…\n10 rbouchard@avivia.ca 2025/02/25   Manufacturi… Saisie 2025/02/25 1… P-000715-…\n# ℹ 9,215 more rows\n\n$SommaireKit\n# A tibble: 37,983 × 7\n   code  no    ligne  pourcEsc pourcEscSup sousTotal contrat_id \n   &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt;    &lt;chr&gt;       &lt;chr&gt;     &lt;chr&gt;      \n 1 k01   1     Custom 0        0           8885.54   P-000390-S1\n 2 k02   2     Custom 0        0           4085.66   P-000390-S1\n 3 k01   1     Custom 0        0           8885.54   P-000390-S1\n 4 k02   2     Custom 0        0           4085.66   P-000390-S1\n 5 k01   1     Custom 0        0           8885.54   P-000390-S1\n 6 k02   2     Custom 0        0           4085.66   P-000390-S1\n 7 k01   3     Custom 0        0           1048.6    P-000390-S2\n 8 k02   2     Custom 0        0           2340.31   P-000390-S2\n 9 k01   &lt;NA&gt;  &lt;NA&gt;   0        0           &lt;NA&gt;      P-000390-S2\n10 k01   3     Custom 0        0           1048.6    P-000390-S2\n# ℹ 37,973 more rows\n\n$Lumiere\n# A tibble: 2,826 × 3\n   modele       qte   contrat_id \n   &lt;chr&gt;        &lt;chr&gt; &lt;chr&gt;      \n 1 PUCK120mm_NI 2     P-000390-S1\n 2 PUCK79mm_NI  5     P-000390-S1\n 3 PUCK120mm_NI 2     P-000390-S1\n 4 PUCK79mm_NI  5     P-000390-S1\n 5 PUCK120mm_NI 2     P-000390-S1\n 6 PUCK79mm_NI  5     P-000390-S1\n 7 PUCK79mm_WH  4     P-000390-S2\n 8 PUCK79mm_WH  4     P-000390-S2\n 9 PUCK79mm_WH  4     P-000390-S2\n10 PUCK79mm_WH  4     P-000554-S1\n# ℹ 2,816 more rows\n\ncontrats_xmls_extracted_tables$EveXML |&gt; print()\n\n$KitMurContour\n# A tibble: 3,078 × 119\n   epais      t_epais nom   gTot  unit  cost_fgfCumul cost_matCumul cost_moCumul\n   &lt;chr&gt;      &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;         &lt;chr&gt;         &lt;chr&gt;       \n 1 152.39999… \"6\\\"\"   Cont… ***   ***   ***           ***           ***         \n 2 152.39999… \"6\\\"\"   Cont… ***   ***   ***           ***           ***         \n 3 152.39999… \"6\\\"\"   Cont… ***   ***   ***           ***           ***         \n 4 152.39999… \"6\\\"\"   Cont… ***   ***   ***           ***           ***         \n 5 152.39999… \"6\\\"\"   Cont… ***   ***   ***           ***           ***         \n 6 152.39999… \"6\\\"\"   Cont… ***   ***   ***           ***           ***         \n 7 152.39999… \"6\\\"\"   Cont… ***   ***   ***           ***           ***         \n 8 152.39999… \"6\\\"\"   Cont… ***   ***   ***           ***           ***         \n 9 152.39999… \"6\\\"\"   Cont… ***   ***   ***           ***           ***         \n10 152.39999… \"6\\\"\"   Cont… ***   ***   ***           ***           ***         \n# ℹ 3,068 more rows\n# ℹ 111 more variables: price_fgfCumul &lt;chr&gt;, price_matCumul &lt;chr&gt;,\n#   price_moCumul &lt;chr&gt;, contrat_id &lt;chr&gt;, qte &lt;chr&gt;, cumulComptoir &lt;chr&gt;,\n#   totalComptoir &lt;chr&gt;, porteModeleB &lt;chr&gt;, porteModeleBSensGrain &lt;chr&gt;,\n#   porteModeleB_epais &lt;chr&gt;, t_porteModeleB_epais &lt;chr&gt;,\n#   porteModeleFacadeBSensGrain &lt;chr&gt;, porteModeleFacadeB_epais &lt;chr&gt;,\n#   t_porteModeleFacadeB_epais &lt;chr&gt;, porteModeleFacadeHSensGrain &lt;chr&gt;, …\n\n$KitMur\n# A tibble: 1,464 × 22\n   epais       t_epais nom   qte   contrat_id aBomCustom enErreur estExtra unit \n   &lt;chr&gt;       &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;    &lt;chr&gt;    &lt;chr&gt;\n 1 152.399999… \"6\\\"\"   Mur   1     P-000390-… &lt;NA&gt;       &lt;NA&gt;     &lt;NA&gt;     &lt;NA&gt; \n 2 152.399999… \"6\\\"\"   Mur   1     P-000390-… &lt;NA&gt;       &lt;NA&gt;     &lt;NA&gt;     &lt;NA&gt; \n 3 152.399999… \"6\\\"\"   Mur   1     P-000554-… &lt;NA&gt;       &lt;NA&gt;     &lt;NA&gt;     &lt;NA&gt; \n 4 152.399999… \"6\\\"\"   Mur   1     P-000715-… &lt;NA&gt;       &lt;NA&gt;     &lt;NA&gt;     &lt;NA&gt; \n 5 152.399999… \"6\\\"\"   Mur   1     P-000715-… &lt;NA&gt;       &lt;NA&gt;     &lt;NA&gt;     &lt;NA&gt; \n 6 152.399999… \"6\\\"\"   Mur   1     P-000773-… &lt;NA&gt;       &lt;NA&gt;     &lt;NA&gt;     &lt;NA&gt; \n 7 152.399999… \"6\\\"\"   Mur   1     P-000828-… &lt;NA&gt;       &lt;NA&gt;     &lt;NA&gt;     &lt;NA&gt; \n 8 152.399999… \"6\\\"\"   Mur   1     P-000907-… &lt;NA&gt;       &lt;NA&gt;     &lt;NA&gt;     &lt;NA&gt; \n 9 152.399999… \"6\\\"\"   Mur   1     P-000907-… &lt;NA&gt;       &lt;NA&gt;     &lt;NA&gt;     &lt;NA&gt; \n10 152.399999… \"6\\\"\"   Mur   1     P-000907-… &lt;NA&gt;       &lt;NA&gt;     &lt;NA&gt;     &lt;NA&gt; \n# ℹ 1,454 more rows\n# ℹ 13 more variables: moulLumHeight &lt;chr&gt;, t_moulLumHeight &lt;chr&gt;,\n#   beamHeight &lt;chr&gt;, t_beamHeight &lt;chr&gt;, code &lt;chr&gt;, gTot &lt;chr&gt;,\n#   cost_fgfCumul &lt;chr&gt;, cost_matCumul &lt;chr&gt;, cost_moCumul &lt;chr&gt;,\n#   price_fgfCumul &lt;chr&gt;, price_matCumul &lt;chr&gt;, price_moCumul &lt;chr&gt;,\n#   items &lt;chr&gt;\n\n$KitMuret\n# A tibble: 1,551 × 113\n   epais   t_epais haut  t_haut nom   qte   contrat_id cle   aBomCustom enErreur\n   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;      &lt;chr&gt; &lt;chr&gt;      &lt;chr&gt;   \n 1 152.39… \"6\\\"\"   914.… \"36\\\"\" Muret 1     P-000390-… &lt;NA&gt;  &lt;NA&gt;       &lt;NA&gt;    \n 2 152.39… \"6\\\"\"   914.… \"36\\\"\" Muret 1     P-000390-… &lt;NA&gt;  &lt;NA&gt;       &lt;NA&gt;    \n 3 152.39… \"6\\\"\"   914.… \"36\\\"\" Muret 1     P-000554-… &lt;NA&gt;  &lt;NA&gt;       &lt;NA&gt;    \n 4 152.39… \"6\\\"\"   914.… \"36\\\"\" Muret 1     P-000715-… &lt;NA&gt;  &lt;NA&gt;       &lt;NA&gt;    \n 5 152.39… \"6\\\"\"   914.… \"36\\\"\" Muret 1     P-000715-… &lt;NA&gt;  &lt;NA&gt;       &lt;NA&gt;    \n 6 152.39… \"6\\\"\"   914.… \"36\\\"\" Muret 1     P-000773-… &lt;NA&gt;  &lt;NA&gt;       &lt;NA&gt;    \n 7 152.39… \"6\\\"\"   914.… \"36\\\"\" Muret 1     P-000828-… &lt;NA&gt;  &lt;NA&gt;       &lt;NA&gt;    \n 8 152.39… \"6\\\"\"   914.… \"36\\\"\" Muret 1     P-000907-… &lt;NA&gt;  &lt;NA&gt;       &lt;NA&gt;    \n 9 152.39… \"6\\\"\"   914.… \"36\\\"\" Muret 1     P-000907-… &lt;NA&gt;  &lt;NA&gt;       &lt;NA&gt;    \n10 152.39… \"6\\\"\"   914.… \"36\\\"\" Muret &lt;NA&gt;  P-000907-… 199   &lt;NA&gt;       &lt;NA&gt;    \n# ℹ 1,541 more rows\n# ℹ 103 more variables: estExtra &lt;chr&gt;, unit &lt;chr&gt;, estBloqPrix &lt;chr&gt;,\n#   sousTotal &lt;chr&gt;, sousTotalAutre &lt;chr&gt;, sousTotalCab &lt;chr&gt;,\n#   sousTotalEff &lt;chr&gt;, sousTotalMoulure &lt;chr&gt;, sousTotalPanel &lt;chr&gt;,\n#   sousTotalKitEff &lt;chr&gt;, porteModeleB &lt;chr&gt;, porteModeleBSensGrain &lt;chr&gt;,\n#   porteModeleB_epais &lt;chr&gt;, t_porteModeleB_epais &lt;chr&gt;,\n#   porteModeleFacadeBSensGrain &lt;chr&gt;, porteModeleFacadeB_epais &lt;chr&gt;, …\n\n$KitRetombee\n# A tibble: 1,512 × 106\n   epais         t_epais haut  t_haut nom   qte   contrat_id aBomCustom enErreur\n   &lt;chr&gt;         &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;   \n 1 152.39999999… \"6\\\"\"   914.… \"36\\\"\" Reto… 1     P-000390-… &lt;NA&gt;       &lt;NA&gt;    \n 2 152.39999999… \"6\\\"\"   914.… \"36\\\"\" Reto… 1     P-000390-… &lt;NA&gt;       &lt;NA&gt;    \n 3 152.39999999… \"6\\\"\"   914.… \"36\\\"\" Reto… 1     P-000554-… &lt;NA&gt;       &lt;NA&gt;    \n 4 152.39999999… \"6\\\"\"   914.… \"36\\\"\" Reto… 1     P-000715-… &lt;NA&gt;       &lt;NA&gt;    \n 5 152.39999999… \"6\\\"\"   914.… \"36\\\"\" Reto… 1     P-000715-… &lt;NA&gt;       &lt;NA&gt;    \n 6 152.39999999… \"6\\\"\"   914.… \"36\\\"\" Reto… 1     P-000773-… &lt;NA&gt;       &lt;NA&gt;    \n 7 152.39999999… \"6\\\"\"   914.… \"36\\\"\" Reto… 1     P-000828-… &lt;NA&gt;       &lt;NA&gt;    \n 8 152.39999999… \"6\\\"\"   914.… \"36\\\"\" Reto… 1     P-000907-… &lt;NA&gt;       &lt;NA&gt;    \n 9 152.39999999… \"6\\\"\"   914.… \"36\\\"\" Reto… 1     P-000907-… &lt;NA&gt;       &lt;NA&gt;    \n10 152.39999999… \"6\\\"\"   914.… \"36\\\"\" Reto… 1     P-000907-… &lt;NA&gt;       &lt;NA&gt;    \n# ℹ 1,502 more rows\n# ℹ 97 more variables: estExtra &lt;chr&gt;, unit &lt;chr&gt;, estBloqPrix &lt;chr&gt;,\n#   sousTotal &lt;chr&gt;, sousTotalAutre &lt;chr&gt;, sousTotalCab &lt;chr&gt;,\n#   sousTotalEff &lt;chr&gt;, sousTotalMoulure &lt;chr&gt;, sousTotalPanel &lt;chr&gt;,\n#   sousTotalKitEff &lt;chr&gt;, porteModeleB &lt;chr&gt;, porteModeleBSensGrain &lt;chr&gt;,\n#   porteModeleB_epais &lt;chr&gt;, t_porteModeleB_epais &lt;chr&gt;,\n#   porteModeleFacadeBSensGrain &lt;chr&gt;, porteModeleFacadeB_epais &lt;chr&gt;, …\n\n$KitMurOuvert\n# A tibble: 1,441 × 7\n   nom    qte   contrat_id  aBomCustom enErreur estExtra unit \n   &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;       &lt;chr&gt;      &lt;chr&gt;    &lt;chr&gt;    &lt;chr&gt;\n 1 Ouvert 1     P-000390-S1 &lt;NA&gt;       &lt;NA&gt;     &lt;NA&gt;     &lt;NA&gt; \n 2 Ouvert 1     P-000390-S2 &lt;NA&gt;       &lt;NA&gt;     &lt;NA&gt;     &lt;NA&gt; \n 3 Ouvert 1     P-000554-S1 &lt;NA&gt;       &lt;NA&gt;     &lt;NA&gt;     &lt;NA&gt; \n 4 Ouvert 1     P-000715-S1 &lt;NA&gt;       &lt;NA&gt;     &lt;NA&gt;     &lt;NA&gt; \n 5 Ouvert 1     P-000715-S2 &lt;NA&gt;       &lt;NA&gt;     &lt;NA&gt;     &lt;NA&gt; \n 6 Ouvert 1     P-000773-S1 &lt;NA&gt;       &lt;NA&gt;     &lt;NA&gt;     &lt;NA&gt; \n 7 Ouvert 1     P-000828-S1 &lt;NA&gt;       &lt;NA&gt;     &lt;NA&gt;     &lt;NA&gt; \n 8 Ouvert 1     P-000907-S1 &lt;NA&gt;       &lt;NA&gt;     &lt;NA&gt;     &lt;NA&gt; \n 9 Ouvert 1     P-000907-S2 &lt;NA&gt;       &lt;NA&gt;     &lt;NA&gt;     &lt;NA&gt; \n10 Ouvert 1     P-000907-S3 &lt;NA&gt;       &lt;NA&gt;     &lt;NA&gt;     &lt;NA&gt; \n# ℹ 1,431 more rows\n\n$KitPlancher\n# A tibble: 3,037 × 117\n   nom      gTot  unit  cost_fgfCumul cost_matCumul cost_moCumul price_fgfCumul\n   &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;         &lt;chr&gt;         &lt;chr&gt;        &lt;chr&gt;         \n 1 Plancher ***   ***   ***           ***           ***          ***           \n 2 Plancher ***   ***   ***           ***           ***          ***           \n 3 Plancher ***   ***   ***           ***           ***          ***           \n 4 Plancher ***   ***   ***           ***           ***          ***           \n 5 Plancher ***   ***   ***           ***           ***          ***           \n 6 Plancher ***   ***   ***           ***           ***          ***           \n 7 Plancher ***   ***   ***           ***           ***          ***           \n 8 Plancher ***   ***   ***           ***           ***          ***           \n 9 Plancher ***   ***   ***           ***           ***          ***           \n10 Plancher ***   ***   ***           ***           ***          ***           \n# ℹ 3,027 more rows\n# ℹ 110 more variables: price_matCumul &lt;chr&gt;, price_moCumul &lt;chr&gt;,\n#   contrat_id &lt;chr&gt;, qte &lt;chr&gt;, cumulComptoir &lt;chr&gt;, totalComptoir &lt;chr&gt;,\n#   porteModeleB &lt;chr&gt;, porteModeleBSensGrain &lt;chr&gt;, porteModeleB_epais &lt;chr&gt;,\n#   t_porteModeleB_epais &lt;chr&gt;, porteModeleFacadeBSensGrain &lt;chr&gt;,\n#   porteModeleFacadeB_epais &lt;chr&gt;, t_porteModeleFacadeB_epais &lt;chr&gt;,\n#   porteModeleFacadeHSensGrain &lt;chr&gt;, porteModeleFacadeH_epais &lt;chr&gt;, …\n\n$KitPlafond\n# A tibble: 3,037 × 117\n   nom     gTot  unit  cost_fgfCumul cost_matCumul cost_moCumul price_fgfCumul\n   &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;         &lt;chr&gt;         &lt;chr&gt;        &lt;chr&gt;         \n 1 Plafond ***   ***   ***           ***           ***          ***           \n 2 Plafond ***   ***   ***           ***           ***          ***           \n 3 Plafond ***   ***   ***           ***           ***          ***           \n 4 Plafond ***   ***   ***           ***           ***          ***           \n 5 Plafond ***   ***   ***           ***           ***          ***           \n 6 Plafond ***   ***   ***           ***           ***          ***           \n 7 Plafond ***   ***   ***           ***           ***          ***           \n 8 Plafond ***   ***   ***           ***           ***          ***           \n 9 Plafond ***   ***   ***           ***           ***          ***           \n10 Plafond ***   ***   ***           ***           ***          ***           \n# ℹ 3,027 more rows\n# ℹ 110 more variables: price_matCumul &lt;chr&gt;, price_moCumul &lt;chr&gt;,\n#   contrat_id &lt;chr&gt;, qte &lt;chr&gt;, cumulComptoir &lt;chr&gt;, totalComptoir &lt;chr&gt;,\n#   porteModeleB &lt;chr&gt;, porteModeleBSensGrain &lt;chr&gt;, porteModeleB_epais &lt;chr&gt;,\n#   t_porteModeleB_epais &lt;chr&gt;, porteModeleFacadeBSensGrain &lt;chr&gt;,\n#   porteModeleFacadeB_epais &lt;chr&gt;, t_porteModeleFacadeB_epais &lt;chr&gt;,\n#   porteModeleFacadeHSensGrain &lt;chr&gt;, porteModeleFacadeH_epais &lt;chr&gt;, …\n\n$KitElemDeco\n# A tibble: 820 × 101\n   cle   nom         qte   contrat_id  estBloqPrix sousTotal sousTotalAutre\n   &lt;chr&gt; &lt;chr&gt;       &lt;chr&gt; &lt;chr&gt;       &lt;chr&gt;       &lt;chr&gt;     &lt;chr&gt;         \n 1 121   KitElemDeco \"\"    P-000390-S1 &lt;NA&gt;        &lt;NA&gt;      &lt;NA&gt;          \n 2 506   KitElemDeco \"\"    P-000390-S2 &lt;NA&gt;        &lt;NA&gt;      &lt;NA&gt;          \n 3 844   KitElemDeco \"\"    P-000554-S1 &lt;NA&gt;        &lt;NA&gt;      &lt;NA&gt;          \n 4 477   KitElemDeco \"\"    P-000715-S1 &lt;NA&gt;        &lt;NA&gt;      &lt;NA&gt;          \n 5 566   KitElemDeco \"\"    P-000715-S2 &lt;NA&gt;        &lt;NA&gt;      &lt;NA&gt;          \n 6 30    KitElemDeco \"\"    P-000773-S1 &lt;NA&gt;        &lt;NA&gt;      &lt;NA&gt;          \n 7 246   KitElemDeco \"\"    P-000828-S1 &lt;NA&gt;        &lt;NA&gt;      &lt;NA&gt;          \n 8 29    KitElemDeco \"\"    P-000907-S2 &lt;NA&gt;        &lt;NA&gt;      &lt;NA&gt;          \n 9 86    KitElemDeco \"\"    P-000907-S4 &lt;NA&gt;        &lt;NA&gt;      &lt;NA&gt;          \n10 506   KitElemDeco \"\"    P-000907-S5 &lt;NA&gt;        &lt;NA&gt;      &lt;NA&gt;          \n# ℹ 810 more rows\n# ℹ 94 more variables: sousTotalCab &lt;chr&gt;, sousTotalEff &lt;chr&gt;,\n#   sousTotalMoulure &lt;chr&gt;, sousTotalPanel &lt;chr&gt;, sousTotalKitEff &lt;chr&gt;,\n#   porteModeleB &lt;chr&gt;, porteModeleBSensGrain &lt;chr&gt;, porteModeleB_epais &lt;chr&gt;,\n#   t_porteModeleB_epais &lt;chr&gt;, porteModeleFacadeBSensGrain &lt;chr&gt;,\n#   porteModeleFacadeB_epais &lt;chr&gt;, t_porteModeleFacadeB_epais &lt;chr&gt;,\n#   porteModeleFacadeHSensGrain &lt;chr&gt;, porteModeleFacadeH_epais &lt;chr&gt;, …\n\n$Kit\n# A tibble: 5,694 × 128\n   cumulComptoir extraComptoir nbComptoir sousTotal sousTotalCab sousTotalEff\n   &lt;chr&gt;         &lt;chr&gt;         &lt;chr&gt;      &lt;chr&gt;     &lt;chr&gt;        &lt;chr&gt;       \n 1 6718.4        100           5          8885.54   8260.83      8885.54     \n 2 &lt;NA&gt;          &lt;NA&gt;          &lt;NA&gt;       4085.66   3904.57      4085.66     \n 3 2436          &lt;NA&gt;          2          6778.44   6158.02      6778.44     \n 4 1352.4        &lt;NA&gt;          1          2340.31   2134.74      2340.31     \n 5 108.49        &lt;NA&gt;          1          1048.6    947.91       1048.6      \n 6 &lt;NA&gt;          100           2          7254.23   6417.55      7254.23     \n 7 &lt;NA&gt;          &lt;NA&gt;          1          6036.33   5702.66      6036.33     \n 8 &lt;NA&gt;          &lt;NA&gt;          &lt;NA&gt;       1455.81   1250.4       1455.81     \n 9 2112          &lt;NA&gt;          1          3872.74   3708.65      3872.74     \n10 706.8         &lt;NA&gt;          2          4953.08   4211.03      4953.08     \n# ℹ 5,684 more rows\n# ℹ 122 more variables: sousTotalMoulure &lt;chr&gt;, sousTotalPanel &lt;chr&gt;,\n#   totalComptoir &lt;chr&gt;, totalComptoirEff &lt;chr&gt;, sousTotalKitEff &lt;chr&gt;,\n#   longComptoir &lt;chr&gt;, porteModeleB &lt;chr&gt;, porteModeleBSensGrain &lt;chr&gt;,\n#   porteModeleB_epais &lt;chr&gt;, t_porteModeleB_epais &lt;chr&gt;,\n#   porteModeleFacadeB_epais &lt;chr&gt;, t_porteModeleFacadeB_epais &lt;chr&gt;,\n#   porteModeleFacadeH_epais &lt;chr&gt;, t_porteModeleFacadeH_epais &lt;chr&gt;, …",
    "crumbs": [
      "Phase 1 : collecte de données",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Collecte  et extractions des données</span>"
    ]
  },
  {
    "objectID": "scripts/data_collection.html#projets",
    "href": "scripts/data_collection.html#projets",
    "title": "2  Collecte et extractions des données",
    "section": "8.3 Projets",
    "text": "8.3 Projets\n\nprojets_xmls_extracted_tables$ProjetXMLS |&gt; print()\n\nNULL",
    "crumbs": [
      "Phase 1 : collecte de données",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Collecte  et extractions des données</span>"
    ]
  },
  {
    "objectID": "scripts/data_collection.html#tables-principales",
    "href": "scripts/data_collection.html#tables-principales",
    "title": "2  Collecte et extractions des données",
    "section": "9.1 Tables principales",
    "text": "9.1 Tables principales\n\nTable PROJETS\nClé primaire : code Données : Informations client, représentant, coordonnées de contact Usage : Table de référence pour les commandes et contrats\nTable COMMANDES\nClé primaire : code Clé étrangère : projet (référence vers PROJETS) Données : Informations commerciales, montants, taxes, statuts\nTable CONTRATS\nClé primaire : contrat_id Clé étrangère : projet (référence vers PROJETS) Données : Détails contractuels, comptoirs spécialisés, frais\nTable KITS (ensemble : kits , kitMur , etc…)\nClés étrangères : commande_id, contrat_id Données : Spécifications techniques détaillées des éléments (armoires, comptoirs, etc.)\nTables support\nADRESSES : Coordonnées géographiques liées aux projets ETAPES : Suivi du workflow des commandes/contrats\nLUMIERES : Éléments d’éclairage associés",
    "crumbs": [
      "Phase 1 : collecte de données",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Collecte  et extractions des données</span>"
    ]
  },
  {
    "objectID": "scripts/data_collection.html#modèle-relationnelle-des-données-extraites",
    "href": "scripts/data_collection.html#modèle-relationnelle-des-données-extraites",
    "title": "2  Collecte et extractions des données",
    "section": "9.2 Modèle relationnelle des données extraites",
    "text": "9.2 Modèle relationnelle des données extraites\n\n\n\n\n\n\n\nBaseDonnees\n\n\n\nPROJETS\n\nPROJETS\n\ncode PK\n\n\n\nCOMMANDES\n\nCOMMANDES\n\ncode PK\nprojet FK\n\n\n\nPROJETS-&gt;COMMANDES\n\n\ncontient\n\n\n\nCONTRATS\n\nCONTRATS\n\ncontrat_id PK\nprojet FK\n\n\n\nPROJETS-&gt;CONTRATS\n\n\ncontient\n\n\n\nADRESSES\n\nADRESSES\n\ncode PK\nprojet_id FK\n\n\n\nPROJETS-&gt;ADRESSES\n\n\npossède\n\n\n\nKITS\n\nKITS\n\ncode PK\ncommande_id FK\ncontrat_id FK\n\n\n\nCOMMANDES-&gt;KITS\n\n\ncontient\n\n\n\nETAPES\n\nETAPES\n\nid PK\ncommande_id FK\ncontrat_id FK\n\n\n\nCOMMANDES-&gt;ETAPES\n\n\nsuit\n\n\n\nLUMIERES\n\nLUMIERES\n\nid PK\ncommande_id FK\ncontrat_id FK\n\n\n\nCOMMANDES-&gt;LUMIERES\n\n\ncontient\n\n\n\nCONTRATS-&gt;KITS\n\n\ncontient\n\n\n\nCONTRATS-&gt;ETAPES\n\n\nsuit\n\n\n\nCONTRATS-&gt;LUMIERES\n\n\ncontient",
    "crumbs": [
      "Phase 1 : collecte de données",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Collecte  et extractions des données</span>"
    ]
  },
  {
    "objectID": "scripts/data_collection.html#table-commandes",
    "href": "scripts/data_collection.html#table-commandes",
    "title": "2  Collecte et extractions des données",
    "section": "10.1 table commandes",
    "text": "10.1 table commandes",
    "crumbs": [
      "Phase 1 : collecte de données",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Collecte  et extractions des données</span>"
    ]
  },
  {
    "objectID": "scripts/data_collection.html#table-contrats",
    "href": "scripts/data_collection.html#table-contrats",
    "title": "2  Collecte et extractions des données",
    "section": "10.2 table contrats",
    "text": "10.2 table contrats",
    "crumbs": [
      "Phase 1 : collecte de données",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Collecte  et extractions des données</span>"
    ]
  },
  {
    "objectID": "scripts/data_collection.html#table-projets",
    "href": "scripts/data_collection.html#table-projets",
    "title": "2  Collecte et extractions des données",
    "section": "10.3 table projets",
    "text": "10.3 table projets",
    "crumbs": [
      "Phase 1 : collecte de données",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Collecte  et extractions des données</span>"
    ]
  },
  {
    "objectID": "scripts/data_collection.html#table-kits-kit-kitmur-kitplafond.",
    "href": "scripts/data_collection.html#table-kits-kit-kitmur-kitplafond.",
    "title": "2  Collecte et extractions des données",
    "section": "10.4 table kits { kit , kitMur , KitPlafond,….}",
    "text": "10.4 table kits { kit , kitMur , KitPlafond,….}",
    "crumbs": [
      "Phase 1 : collecte de données",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Collecte  et extractions des données</span>"
    ]
  },
  {
    "objectID": "scripts/data_collection.html#table-etapes",
    "href": "scripts/data_collection.html#table-etapes",
    "title": "2  Collecte et extractions des données",
    "section": "10.5 table etapes",
    "text": "10.5 table etapes",
    "crumbs": [
      "Phase 1 : collecte de données",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Collecte  et extractions des données</span>"
    ]
  },
  {
    "objectID": "scripts/data_collection.html#tables-addresses",
    "href": "scripts/data_collection.html#tables-addresses",
    "title": "2  Collecte et extractions des données",
    "section": "10.6 tables addresses",
    "text": "10.6 tables addresses",
    "crumbs": [
      "Phase 1 : collecte de données",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Collecte  et extractions des données</span>"
    ]
  },
  {
    "objectID": "scripts/data_collection.html#lumière",
    "href": "scripts/data_collection.html#lumière",
    "title": "2  Collecte et extractions des données",
    "section": "10.7 lumière",
    "text": "10.7 lumière\n\n\n\n\n\n\n\nsave(projets,file=\"data/processed/projets.RData\")\nsave(commandes,file=\"data/processed/commandes.RData\")\nsave(contrats,file=\"data/processed/contrats.RData\")\nsave(kits,file=\"data/processed/kits.RData\")\nsave(adresses,file=\"data/processed/adresses.RData\")\nsave(etapes,file=\"data/processed/etapes.RData\")\nsave(lumieres,file=\"data/processed/lumieres.RData\")",
    "crumbs": [
      "Phase 1 : collecte de données",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Collecte  et extractions des données</span>"
    ]
  },
  {
    "objectID": "scripts/data_cleaning.html",
    "href": "scripts/data_cleaning.html",
    "title": "3  Néttoyage et transformations des données",
    "section": "",
    "text": "3.1 Données d’entrée\nCette phase du processus ETL assure la qualité et la cohérence des données extraites des fichiers XML. Le nettoyage standardise les formats, corrige les incohérences et prépare les données pour l’analyse business en appliquant des règles de transformation uniformes à l’ensemble du dataset.\nLe processus traite les tables extraites lors de la phase précédente :",
    "crumbs": [
      "Phase 1 : collecte de données",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Néttoyage et transformations des données</span>"
    ]
  },
  {
    "objectID": "scripts/data_cleaning.html#données-dentrée",
    "href": "scripts/data_cleaning.html#données-dentrée",
    "title": "3  Néttoyage et transformations des données",
    "section": "",
    "text": "PROJETS - Informations projet et client\nCOMMANDES - Données commerciales des commandes\nCONTRATS - Informations contractuelles\nKITS - Spécifications techniques détaillées\nADRESSES - Coordonnées géographiques\nETAPES - Workflow et suivi\nLUMIERES - Éléments d’éclairage\n\n\n3.1.1 Approche méthodologique\nLe nettoyage suit une approche systématique avec des fonctions spécialisées pour chaque type de données, garantissant la cohérence et la reproductibilité du processus\n\nload(\"C:/Users/18195/Documents/dunin/data/processed/commandes.RData\")\nload(\"C:/Users/18195/Documents/dunin/data/processed/contrats.RData\")\nload(\"C:/Users/18195/Documents/dunin/data/processed/projets.RData\")\nload(\"C:/Users/18195/Documents/dunin/data/processed/etapes.RData\")\nload(\"C:/Users/18195/Documents/dunin/data/processed/kits.RData\")\nload(\"C:/Users/18195/Documents/dunin/data/processed/adresses.RData\")\nload(\"C:/Users/18195/Documents/dunin/data/processed/lumieres.RData\")",
    "crumbs": [
      "Phase 1 : collecte de données",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Néttoyage et transformations des données</span>"
    ]
  },
  {
    "objectID": "scripts/data_cleaning.html#fonctions-de-nettoyages",
    "href": "scripts/data_cleaning.html#fonctions-de-nettoyages",
    "title": "3  Néttoyage et transformations des données",
    "section": "3.2 fonctions de nettoyages",
    "text": "3.2 fonctions de nettoyages\n\nlibrary(dplyr)\n\n\nAttachement du package : 'dplyr'\n\n\nLes objets suivants sont masqués depuis 'package:stats':\n\n    filter, lag\n\n\nLes objets suivants sont masqués depuis 'package:base':\n\n    intersect, setdiff, setequal, union\n\nlibrary(tidyr)\nlibrary(stringr)\nlibrary(lubridate)\n\n\nAttachement du package : 'lubridate'\n\n\nLes objets suivants sont masqués depuis 'package:base':\n\n    date, intersect, setdiff, union\n\npsd &lt;- function(df) {\n  df &lt;- df %&gt;%\n    mutate(\n      psd = rowSums(across(where(is.character), ~ grepl(\"PSD\", .x, ignore.case = TRUE)), na.rm = TRUE) &gt; 0\n    ) %&gt;%\n    mutate(across(where(is.character), ~ ifelse(.x == \"PSD\", NA, .x)))\n  return(df)\n}\n\n\n# 1. Chaînes de caractères\nclean_char &lt;- function(x) {\n  x |&gt;\n    str_trim() |&gt;\n    str_squish() |&gt;\n    as.character() |&gt; na_if(\"\") \n}\n\n# 2. Booléens\nclean_bool &lt;- function(x) {\n  x &lt;- str_trim(x)\n  x &lt;- str_to_lower(x)\n  case_when(\n    x %in% c(\"1\", \"true\", \"oui\", \"yes\") ~ TRUE,\n    x %in% c(\"0\", \"false\", \"non\", \"no\") ~ FALSE,\n    is.na(x)                            ~ FALSE,\n    TRUE                                ~ FALSE\n  )\n}\n\n# 3. Pourcentage\nclean_pct &lt;- function(x) {\n  x |&gt;\n    str_remove_all(\"[%\\\\s]\") |&gt;\n    as.numeric() |&gt;\n    replace_na(0) \n}\n\n# 4. Montants\nclean_money &lt;- function(x) {\n  x |&gt;\n    str_remove_all(\"[^0-9\\\\.-]\") |&gt;\n    as.numeric() |&gt;\n    replace_na(0)\n}\n\n# 5. Dates souples\nclean_date &lt;- function(x, formats = c(\"%Y-%m-%d\", \"%d/%m/%Y\", \"%Y/%m/%d\")) {\n  x &lt;- str_trim(x)\n  x[x == \"\"] &lt;- NA\n  as.Date(x, tryFormats = formats)\n}\n\n# 6. Décimales\nclean_decimal &lt;- function(x) {\n  x |&gt;\n    str_trim() |&gt;\n    str_squish() |&gt;\n    str_replace_all(\",\", \".\") |&gt;\n    str_remove_all(\"[,\\\\s]\") |&gt;\n    as.numeric() |&gt;\n    replace_na(0)\n}\n\n\n3.2.1 Fonction spécialisée - psd()\nObjectif : Identifie les enregistrements contenant des marqueurs “PSD” (Prise Sur Demande) et crée un indicateur booléen tout en nettoyant les champs concernés.\n\n\n3.2.2 Nettoyage des chaînes de caractères - clean_char()\n\nSuppression des espaces en début/fin et multiples\nStandardisation des chaînes vides\nNormalisation du format texte\n\n\n\n3.2.3 Conversion booléenne - clean_bool()\n\nReconnaissance des valeurs : “1”, “true”, “oui”, “yes” → TRUE\nStandardisation des valeurs : “0”, “false”, “non”, “no” → FALSE\nGestion des valeurs manquantes → FALSE par défaut\n\n\n\n3.2.4 Nettoyage des pourcentages - clean_pct()\n\nSuppression des symboles % et espaces\nConversion numérique avec gestion des valeurs manquantes\n\n\n\n3.2.5 Nettoyage des montants - clean_money()\n\nExtraction des valeurs numériques uniquement\nSuppression des devises et formatage\nGestion des décimales et signes négatifs\n\n\n\n3.2.6 Nettoyage des dates - clean_date()\n\nSupport de formats multiples (ISO, français, américain)\nConversion automatique avec validation\nGestion des dates invalides\n\n\n\n3.2.7 Nettoyage des décimales - clean_decimal()\n\nNormalisation des séparateurs décimaux (virgule → point)\nSuppression des caractères non numériques\nConversion avec préservation de la précision",
    "crumbs": [
      "Phase 1 : collecte de données",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Néttoyage et transformations des données</span>"
    ]
  },
  {
    "objectID": "scripts/data_cleaning.html#traitement-par-table",
    "href": "scripts/data_cleaning.html#traitement-par-table",
    "title": "3  Néttoyage et transformations des données",
    "section": "3.3 Traitement par table",
    "text": "3.3 Traitement par table\n\n3.3.1 projets\n\nprojets_clean &lt;- projets |&gt; mutate(\n    # 1. Caractères\n    across(\n      c(code, client, marche, codeRepresentant, nomRepresentant,\n        division, ciClient, courrielContact, nomContact,\n        telephoneContact, starts_with(\"coords\"),\n        createurNom, createurCourriel),\n      clean_char\n    ),\n    \n    # 2. Booléens\n    across(c(estReprise, enFusion), clean_bool),\n    \n    # 3. Date\n    dateCreation = clean_date(dateCreation)\n  )\n\n  projets_clean |&gt; glimpse()\n\nRows: 2,035\nColumns: 18\n$ code             &lt;chr&gt; \"P-000001\", \"P-000002\", \"P-000004\", \"P-000006\", \"P-00…\n$ client           &lt;chr&gt; \"Avivia\", NA, NA, NA, NA, \"Avivia\", NA, \"CRobitaille\"…\n$ marche           &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, \"Quebec\", NA, NA, NA, NA,…\n$ codeRepresentant &lt;chr&gt; \"003\", NA, NA, NA, NA, \"003\", NA, NA, \"003\", \"003\", N…\n$ nomRepresentant  &lt;chr&gt; \"Mr Robert\", NA, NA, NA, NA, \"Mr Robert\", NA, NA, \"Mr…\n$ dateCreation     &lt;date&gt; 2022-07-21, 2022-10-12, 2022-10-12, 2022-10-13, 2022…\n$ division         &lt;chr&gt; \"Division_1\", \"Division_1\", \"Division_1\", \"Division_1…\n$ ciClient         &lt;chr&gt; \"0\", NA, NA, NA, NA, \"0\", NA, NA, NA, NA, NA, NA, NA,…\n$ courrielContact  &lt;chr&gt; \"info@avivia.ca\", NA, NA, NA, NA, \"info@avivia.ca\", N…\n$ nomContact       &lt;chr&gt; \"Mr Contact\", NA, NA, NA, NA, \"Mr Contact\", NA, NA, \"…\n$ telephoneContact &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…\n$ coordsCommTxt    &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, \"Tel.…\n$ coordsExpedTxt   &lt;chr&gt; \"110, route 138, Cap-Santé, Quebec, G0A1L0, Canada\", …\n$ coordsFactTxt    &lt;chr&gt; \"20 Route Goulet, Saint-Séverin-de-Proulxville, Quebe…\n$ estReprise       &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALS…\n$ enFusion         &lt;lgl&gt; TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, FALSE, FALS…\n$ createurNom      &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, \"Claudia Robitaille\", \"Ch…\n$ createurCourriel &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, \"crobitaille@avivia.ca\", …\n\n\n\n\n3.3.2 addresses\n\n# Nettoyage et conversion des colonnes\nadresses_clean &lt;- adresses |&gt;\n  mutate(\n    # Chaînes de caractères\n    across(c(codePost, etatProv, ligne1, pays, region, ville, usage, code, sorte, nom, contact, ligne2,projet_id), clean_char),\n    # Booléens\n    estJS = NULL,\n\n  )\n  adresses_clean |&gt; glimpse()\n\nRows: 21,263\nColumns: 13\n$ codePost  &lt;chr&gt; \"G0X2B0\", \"G0A1L0\", \"G0X2B0\", \"G0A1L0\", \"G0X2B0\", \"G0A1L0\", …\n$ etatProv  &lt;chr&gt; \"Quebec\", \"Quebec\", \"Quebec\", \"Quebec\", \"Quebec\", \"Quebec\", …\n$ ligne1    &lt;chr&gt; \"20 Route Goulet\", \"110, route 138\", \"20 Route Goulet\", \"110…\n$ ligne2    &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …\n$ pays      &lt;chr&gt; \"Canada\", \"Canada\", \"Canada\", \"Canada\", \"Canada\", \"Canada\", …\n$ region    &lt;chr&gt; \"R1\", \"R1\", \"R1\", \"R1\", \"R1\", \"R1\", \"R1\", \"R1\", \"R1\", \"R1\", …\n$ ville     &lt;chr&gt; \"Saint-Séverin-de-Proulxville\", \"Cap-Santé\", \"Saint-Séverin-…\n$ usage     &lt;chr&gt; \"Fact\", \"Exped\", \"Fact\", \"Exped\", \"Fact\", \"Exped\", \"Fact\", \"…\n$ code      &lt;chr&gt; \"Fact\", \"ShowRoom\", \"Fact\", \"ShowRoom\", \"Fact\", \"ShowRoom\", …\n$ sorte     &lt;chr&gt; NA, \"WAREHOUSE\", NA, \"WAREHOUSE\", NA, \"WAREHOUSE\", NA, \"WARE…\n$ projet_id &lt;chr&gt; \"P-000001\", \"P-000001\", \"P-000001\", \"P-000001\", \"P-000001\", …\n$ nom       &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, \"Janin Berna…\n$ contact   &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …\n\n\n\n\n3.3.3 commandes\n\ncommandes &lt;- commandes |&gt; psd()\ncommandes_clean &lt;- commandes |&gt;\n  mutate(\n    # 1. Chaînes de caractères\n    across(\n      c(code, nomClient, codeClient2, typeClient, createurNom, createurCourriel,\n        division, projet),\n      clean_char\n    ),\n\n    # 2. Booléens\n    across(\n      c(validCred, estImport, estReprise, estCQ,\n        avecLivraison, installation,\n        statutCred),\n      clean_bool\n    ),\n\n    # 3. Dates\n    dateCreation   = clean_date(dateCreation),\n    dateValidite   = clean_date(dateValidite),\n    datePrevExped  = clean_date(datePrevExped),\n\n    # 4. Nombres (entiers ou décimaux)\n    delaiPrevExped = clean_decimal(delaiPrevExped),\n    nbJourValide   = clean_decimal(nbJourValide),\n    qteItems       = clean_decimal(qteItems),\n    qteItemsCab    = clean_decimal(qteItemsCab),\n\n    # 5. Montants\n    across(\n      c(total, totalHT, sousTotal, sousTotal2,\n        totalLivraison, totalInstall, totalCEM,\n        promotions, totalTx1, totalTx2, ecartPrix, solde),\n      clean_money\n    )\n  )\n\n\n\n3.3.4 contrats\n\ncontrats &lt;- contrats |&gt; psd()\ncontrats_clean &lt;- contrats |&gt; mutate(\n    # 1. Chaînes de caractères\n    across(\n      c(code, codeClient2, nomClient, typeClient,\n        projet, division,\n        createurNom, createurCourriel,\n        codePost, codePostFinal),\n      clean_char\n    ),\n\n    # 2. Booléens\n    across(c(validCred, estReprise, avecLivraison, installation ,statutCred), clean_bool),\n\n    # 3. Dates\n    dateCreation  = clean_date(dateCreation),\n    dateValidite  = clean_date(dateValidite),\n    datePrevExped = clean_date(datePrevExped),\n\n    # 4. Nombres / Décimales\n    delaiPrevExped = clean_decimal(delaiPrevExped),\n    nbJourValide   = clean_decimal(nbJourValide),\n    qteItems       = clean_decimal(qteItems),\n    qteItemsCab    = clean_decimal(qteItemsCab),\n\n    # 5. Montants\n    across(\n      c(total, totalHT, sousTotal, sousTotal2,\n        totalLivraison, totalInstall,\n        totalComptoirBois, totalComptoirGranite,\n        totalComptoirQuartz, totalComptoirStratifie,\n        totalEsc, ecartPrix, montantEcartPrix,\n        fraisPSD, fraisPDM, fraisSAV, TotalEscompte,\n        promotions),\n      clean_money\n      )\n)\n\n\n\n3.3.5 kits\n\nkits &lt;- kits |&gt; psd()\n# Nettoyage et conversion des colonnes de la table kits\nkits_clean &lt;- kits |&gt;\n  mutate(\n    # 1. Chaînes de caractères\n    across(\n      c(code, nom, typeKit, unit, comptoirMod, comptoirCouleur,\n        comptoirGpCouleur, assemblage, gamme, serie, finishColor,\n        edgeColle, edgeBanding, bd_edgeBanding, df_edgeBanding,\n        wd_edgeBanding, edgePorte, edgeTablette, handle, handleOri,\n        bd_handle, bd_handleOri, df_handle, df_handleOri,\n        cabDesign, cabConstruct, cabHinge, cabWallProf, t_cabWallProf,\n        cabToeKickType, cabAlignBase, t_cabAlignBase,\n        cabTallHeightAlign, t_cabTallHeightAlign, cabTypeComptoir,\n        tabletteType, drawerConst, drawerSlide, matPatte,\n        patteAchetee, equerre, cacheNeon, beamModele, ligne,\n        contrat_id, commande_id, signature, kitUtilisation, specie,\n        bd_specie, df_specie, bd_serie, df_serie, bd_finishColor,\n        df_finishColor, porteModeleB, porteModeleH,\n        porteModeleFacadeB, porteModeleFacadeH,\n        porteModeleBSensGrain, porteModeleHSensGrain,\n        porteModeleFacadeBSensGrain, porteModeleFacadeHSensGrain,\n        moulLumModele, moulPiedModele, detailSection, aBomCustom,\n        couleurEstBois, items, typeColor),\n      clean_char\n    ),\n\n    # 2. Booléens\n    across(c(estBloqPrix, estPrixAdmin, estExtra, enErreur, psd), clean_bool),\n\n    # 3. Décimales\n    across(\n      c(qte, qteTr, nbComptoir, longComptoir, surfaceComptoir,\n        cumulComptoir, cabHautComptoir, t_cabHautComptoir,\n        cabDegagementWall, t_cabDegagementWall,\n        cabToeKickHeight, t_cabToeKickHeight,\n        cabToeKickProf, t_cabToeKickProf,\n        beamHeight, t_beamHeight,\n        porteModeleB_epais, t_porteModeleB_epais,\n        porteModeleH_epais, t_porteModeleH_epais,\n        porteModeleFacadeB_epais, t_porteModeleFacadeB_epais,\n        porteModeleFacadeH_epais, t_porteModeleFacadeH_epais,\n        moulLumHeight, t_moulLumHeight,\n        moulPiedHeight, t_moulPiedHeight),\n      clean_decimal\n    ),\n\n    # 4. Montants\n    across(\n      c(sousTotalKit, sousTotalKitEff, sousTotal, sousTotalEff,\n        totalComptoir, totalComptoirEff, extraComptoir,\n        sousTotalCab, sousTotalPanel, sousTotalMoulure, sousTotalAutre),\n      clean_money\n    )\n  )\n\nWarning: There were 11 warnings in `mutate()`.\nThe first warning was:\nℹ In argument: `across(...)`.\nCaused by warning in `replace_na()`:\n! NAs introduits lors de la conversion automatique\nℹ Run `dplyr::last_dplyr_warnings()` to see the 10 remaining warnings.\n\n  kits_clean |&gt; glimpse()\n\nRows: 24,502\nColumns: 114\n$ code                        &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ nom                         &lt;chr&gt; \"Contour\", \"Contour\", \"Contour\", \"Contour\"…\n$ qte                         &lt;dbl&gt; 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ qteTr                       &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ typeKit                     &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ unit                        &lt;chr&gt; \"***\", \"***\", \"***\", \"***\", \"***\", \"***\", …\n$ sousTotalKit                &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ sousTotalKitEff             &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ sousTotal                   &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ sousTotalEff                &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ totalComptoir               &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ totalComptoirEff            &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ nbComptoir                  &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ longComptoir                &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ surfaceComptoir             &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ cumulComptoir               &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ extraComptoir               &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ comptoirMod                 &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ comptoirCouleur             &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ comptoirGpCouleur           &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ sousTotalCab                &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ sousTotalPanel              &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ sousTotalMoulure            &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ sousTotalAutre              &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ assemblage                  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ gamme                       &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ serie                       &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ finishColor                 &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ edgeColle                   &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ edgeBanding                 &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ bd_edgeBanding              &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ df_edgeBanding              &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ wd_edgeBanding              &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ edgePorte                   &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ edgeTablette                &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ handle                      &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ handleOri                   &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ bd_handle                   &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ bd_handleOri                &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ df_handle                   &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ df_handleOri                &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ cabDesign                   &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ cabConstruct                &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ cabHinge                    &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ cabWallProf                 &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ t_cabWallProf               &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ cabHautComptoir             &lt;dbl&gt; 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, …\n$ t_cabHautComptoir           &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ cabDegagementWall           &lt;dbl&gt; 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.…\n$ t_cabDegagementWall         &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ cabToeKickHeight            &lt;dbl&gt; 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.…\n$ t_cabToeKickHeight          &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ cabToeKickProf              &lt;dbl&gt; 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.…\n$ t_cabToeKickProf            &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ cabToeKickType              &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ cabAlignBase                &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ t_cabAlignBase              &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ cabTallHeightAlign          &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ t_cabTallHeightAlign        &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ cabTypeComptoir             &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ tabletteType                &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ drawerConst                 &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ drawerSlide                 &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ matPatte                    &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ patteAchetee                &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ equerre                     &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ cacheNeon                   &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ beamModele                  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ beamHeight                  &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ t_beamHeight                &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ ligne                       &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ contrat_id                  &lt;chr&gt; \"P-000390-S1\", \"P-000390-S2\", \"P-000554-S1…\n$ commande_id                 &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ estBloqPrix                 &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, …\n$ estPrixAdmin                &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, …\n$ estExtra                    &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, …\n$ enErreur                    &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, …\n$ signature                   &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ kitUtilisation              &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ specie                      &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ bd_specie                   &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ df_specie                   &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ bd_serie                    &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ df_serie                    &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ bd_finishColor              &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ df_finishColor              &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ porteModeleB                &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ porteModeleH                &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ porteModeleFacadeB          &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ porteModeleFacadeH          &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ porteModeleBSensGrain       &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ porteModeleHSensGrain       &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ porteModeleFacadeBSensGrain &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ porteModeleFacadeHSensGrain &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ porteModeleB_epais          &lt;dbl&gt; 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, …\n$ t_porteModeleB_epais        &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ porteModeleH_epais          &lt;dbl&gt; 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, …\n$ t_porteModeleH_epais        &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ porteModeleFacadeB_epais    &lt;dbl&gt; 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, …\n$ t_porteModeleFacadeB_epais  &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ porteModeleFacadeH_epais    &lt;dbl&gt; 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, …\n$ t_porteModeleFacadeH_epais  &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ moulLumModele               &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ moulLumHeight               &lt;dbl&gt; 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.…\n$ t_moulLumHeight             &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ moulPiedModele              &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ moulPiedHeight              &lt;dbl&gt; 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.…\n$ t_moulPiedHeight            &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ detailSection               &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ aBomCustom                  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ couleurEstBois              &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ items                       &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ typeColor                   &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ psd                         &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, …\n\n\n\n\n3.3.6 etapes\n\netapes_clean &lt;- etapes |&gt;\n  mutate(\n    # 1. Chaînes de caractères\n    across(\n      c(createur, emplacement, statut, commande_id, contrat_id),\n      clean_char\n    ),\n\n    # 2. Dates\n    dateCreation  = clean_date(dateCreation),\n\n    # 3. Durée (décimale en heures ou minutes)\n    tempsCreation = clean_decimal(tempsCreation)\n  )\n\nWarning: There was 1 warning in `mutate()`.\nℹ In argument: `tempsCreation = clean_decimal(tempsCreation)`.\nCaused by warning in `replace_na()`:\n! NAs introduits lors de la conversion automatique\n\n\n\n\n3.3.7 lumieres\n\nlumieres_clean &lt;- lumieres |&gt;\n  mutate(\n    modele     = clean_char(modele),\n    qte        = clean_decimal(qte),\n    contrat_id = clean_char(contrat_id)\n  )",
    "crumbs": [
      "Phase 1 : collecte de données",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Néttoyage et transformations des données</span>"
    ]
  },
  {
    "objectID": "scripts/data_loading.html",
    "href": "scripts/data_loading.html",
    "title": "4  Chargement des données",
    "section": "",
    "text": "4.1 Architecture du Data Warehouse\nCette phase finale du processus ETL transforme les données nettoyées en un modèle dimensionnel optimisé pour l’analyse business. L’architecture suit une approche en étoile, séparant clairement les dimensions des faits pour optimiser les performances analytiques.",
    "crumbs": [
      "Phase 1 : collecte de données",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Chargement des données</span>"
    ]
  },
  {
    "objectID": "scripts/data_loading.html#philosophie-de-modélisation",
    "href": "scripts/data_loading.html#philosophie-de-modélisation",
    "title": "4  Chargement des données",
    "section": "4.2 Philosophie de modélisation",
    "text": "4.2 Philosophie de modélisation\nLe modèle adopte une architecture en étoile avec : - Table de fait centrale : transactions consolidant commandes et contrats - Tables de dimensions : Contexte analytique (dates, clients, projets, etc.) - Tables de faits secondaires : Détails techniques (kits, étapes, éclairage)\nCette approche garantit : - Performance : Requêtes analytiques optimisées - Simplicité : Structure intuitive pour les utilisateurs business - Flexibilité : Évolution facile du modèle - Gestion des clés : Remplacement des dates par des clés techniques pour optimisation des performances.",
    "crumbs": [
      "Phase 1 : collecte de données",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Chargement des données</span>"
    ]
  },
  {
    "objectID": "scripts/data_loading.html#tables-de-dimensions",
    "href": "scripts/data_loading.html#tables-de-dimensions",
    "title": "4  Chargement des données",
    "section": "4.3 Tables de dimensions",
    "text": "4.3 Tables de dimensions\n\n4.3.1 DIM_DATES - Dimension temporelle universelle\nStructure :\n- date_id (PK) : Clé technique au format YYYYMMDD\n- date : Date calendaire\n- annee, mois, jour : Composants temporels\n- nom_mois, nom_jour : Libellés français\n- jour_semaine : Numérotation ISO (1=lundi, 7=dimanche)\nInnovation technique : Construction automatisée à partir de toutes les dates présentes dans le système, garantissant la complétude du référentiel temporel.\nUsage business : Permet l’analyse temporelle (tendances, saisonnalité, comparaisons d’périodes).\n\n\n4.3.2 DIM_CLIENTS - Dimension client consolidée\nStructure :\n- client_id (PK) : Identifiant unique\n- nom : Dénomination client\n- type : Catégorie client (particulier, professionnel, etc.)\n- transaction_id (FK) : Lien vers transactions\nConsolidation : Fusion des données clients provenant des commandes et contrats pour une vue unifiée.\n\n\n4.3.3 DIM_PROJETS - Contexte projet enrichi\nStructure :\n- projet_id (PK) : Code projet\n- marche : Marché géographique\n- division : Division commerciale\n- contacts : Informations de contact complètes\n- indicateurs : Statuts (reprise, fusion)\nValeur ajoutée : Table de référence centrale connectant tous les éléments du projet.\n\n\n4.3.4 DIM_REPRESENTANTS - Force de vente\nStructure :\n- representant_id (PK) : Identifiant unique\n- nom, codeRepresentant : Identification commerciale\n- projet_id (FK) : Rattachement projet\nUsage business : Analyse des performances commerciales par représentant.\n\n\n4.3.5 DIM_ADRESSES - Géolocalisation\nStructure :\n- adresse_id (PK) : Identifiant unique\n- ville, region, pays : Hiérarchie géographique\n- usage : Type d'adresse (livraison, facturation, chantier)\n- projet_id (FK) : Rattachement projet\nUsage business : Analyses territoriales et logistiques.",
    "crumbs": [
      "Phase 1 : collecte de données",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Chargement des données</span>"
    ]
  },
  {
    "objectID": "scripts/data_loading.html#table-de-fait-principale",
    "href": "scripts/data_loading.html#table-de-fait-principale",
    "title": "4  Chargement des données",
    "section": "4.4 Table de fait principale",
    "text": "4.4 Table de fait principale\n\n4.4.1 TRANSACTIONS - Cœur analytique\nStructure principale :\n- transaction_id (PK) : Identifiant unique\n- projet_id (FK) : Lien dimension projet\n- date_*_id (FK) : Liens multiples vers dimension dates\n- Métriques financières : total, totalHT, etc.\n- Métriques opérationnelles : quantités, statuts,etc\nInnovation de modélisation : - Fusion intelligente : Commandes et contrats dans une même structure - Références temporelles multiples : Création, validité, expédition - Métriques business : KPIs directement exploitables\nAvantages analytiques : - Vue consolidée des transactions - Analyses comparatives commandes vs contrats - Suivi temporel multi-dimensionnel",
    "crumbs": [
      "Phase 1 : collecte de données",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Chargement des données</span>"
    ]
  },
  {
    "objectID": "scripts/data_loading.html#tables-de-faits-secondaires",
    "href": "scripts/data_loading.html#tables-de-faits-secondaires",
    "title": "4  Chargement des données",
    "section": "4.5 Tables de faits secondaires",
    "text": "4.5 Tables de faits secondaires\n\n4.5.1 FACT_KITS - Détail technique produit\nGranularité : Un enregistrement par kit/composant Métriques : Sous-totaux, spécifications techniques Usage : Analyse détaillée des configurations produit\n\n\n4.5.2 FACT_ETAPES - Workflow opérationnel\nGranularité : Un enregistrement par étape de processus Métriques : Temps de traitement, statuts d’avancement Usage : Optimisation des processus, suivi de production\n\n\n4.5.3 FACT_LUMIERES - Éléments d’éclairage\nGranularité : Un enregistrement par modèle d’éclairage Métriques : Quantités par modèle Usage : Gestion des catalogues, analyse des préférences",
    "crumbs": [
      "Phase 1 : collecte de données",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Chargement des données</span>"
    ]
  },
  {
    "objectID": "scripts/data_loading.html#bénéfices-du-modèle-dimensionnel",
    "href": "scripts/data_loading.html#bénéfices-du-modèle-dimensionnel",
    "title": "4  Chargement des données",
    "section": "4.6 Bénéfices du modèle dimensionnel",
    "text": "4.6 Bénéfices du modèle dimensionnel\n\n4.6.1 Performance analytique\n\nRequêtes optimisées : Structure dénormalisée adaptée à l’OLAP\nIndexes implicites : Clés dimensionnelles facilitent l’indexation\nJointures simples : Architecture en étoile = jointures 1-N uniquement\n\n\n\n4.6.2 Facilité d’usage business\n\nÉvolutivité : Ajout de dimensions sans impact sur l’existant",
    "crumbs": [
      "Phase 1 : collecte de données",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Chargement des données</span>"
    ]
  },
  {
    "objectID": "scripts/data_loading.html#métriques-et-kpis-disponibles",
    "href": "scripts/data_loading.html#métriques-et-kpis-disponibles",
    "title": "4  Chargement des données",
    "section": "4.7 Métriques et KPIs disponibles",
    "text": "4.7 Métriques et KPIs disponibles\n\n4.7.1 Analyses temporelles\n\nÉvolution CA par période (jour/mois/année)\nSaisonnalité des commandes\nDélais moyens par type de transaction etc\n\n\n\n4.7.2 Analyses commerciales\n\nPerformance par représentant\nRépartition géographique du CA\nSegmentation client (récence, fréquence, montant) etc\n\n\n\n4.7.3 Analyses opérationnelles\n\nTemps de traitement par étape\nTaux de transformation commande→contrat\nAnalyse des configurations techniques (kits) etc",
    "crumbs": [
      "Phase 1 : collecte de données",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Chargement des données</span>"
    ]
  },
  {
    "objectID": "scripts/data_loading.html#dimensions",
    "href": "scripts/data_loading.html#dimensions",
    "title": "4  Chargement des données",
    "section": "5.1 dimensions",
    "text": "5.1 dimensions\n\n5.1.1 dates\n\nlibrary(dplyr)\nlibrary(tidyr)\nlibrary(purrr)\n\ntransactions &lt;- bind_rows(commandes_clean,contrats_clean)\n\n# Étape 1 : Extraire toutes les colonnes contenant \"date\" et les fusionner proprement\nall_dates_df &lt;- list(\n  commandes_clean,\n  contrats_clean,\n  kits_clean,\n  adresses_clean,\n  etapes_clean,\n  projets_clean,\n  lumieres_clean\n) |&gt;\n  map(~ select(.x, contains(\"date\"))) |&gt;\n  bind_rows() |&gt;\n  pivot_longer(everything(), values_drop_na = TRUE, names_to = \"type_date\") |&gt;\n  distinct(value) |&gt;\n  filter(lubridate::is.Date(value) | lubridate::is.POSIXt(value))  # On garde \n\n# Étape 2 : Créer la table dim_date\ndim_dates &lt;- all_dates_df |&gt;\n  transmute(\n    date_id     = as.integer(format(value, \"%Y%m%d\")),\n    date         = as.Date(value),\n    annee        = as.integer(format(value, \"%Y\")),\n    mois         = as.integer(format(value, \"%m\")),\n    nom_mois     = format(value, \"%B\"),\n    jour         = as.integer(format(value, \"%d\")),\n    jour_semaine = as.integer(format(value, \"%u\")),\n    nom_jour     = format(value, \"%A\")\n  ) |&gt;\n  distinct() |&gt;\n  arrange(date)\n\ndim_dates |&gt; glimpse()\n\nRows: 660\nColumns: 8\n$ date_id      &lt;int&gt; 20220721, 20221012, 20221013, 20221014, 20221018, 2022101…\n$ date         &lt;date&gt; 2022-07-21, 2022-10-12, 2022-10-13, 2022-10-14, 2022-10-…\n$ annee        &lt;int&gt; 2022, 2022, 2022, 2022, 2022, 2022, 2022, 2022, 2022, 202…\n$ mois         &lt;int&gt; 7, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 11, 11, 11, 11…\n$ nom_mois     &lt;chr&gt; \"juillet\", \"octobre\", \"octobre\", \"octobre\", \"octobre\", \"o…\n$ jour         &lt;int&gt; 21, 12, 13, 14, 18, 19, 25, 26, 27, 28, 31, 1, 2, 9, 22, …\n$ jour_semaine &lt;int&gt; 4, 3, 4, 5, 2, 3, 2, 3, 4, 5, 1, 2, 3, 3, 2, 1, 4, 2, 3, …\n$ nom_jour     &lt;chr&gt; \"jeudi\", \"mercredi\", \"jeudi\", \"vendredi\", \"mardi\", \"mercr…\n\n\n\n\n5.1.2 dim client\n\ndim_clients &lt;- transactions |&gt; bind_rows(commandes_clean) |&gt; transmute(\n  client_id = row_number(),\n  nom = nomClient,\n  type = typeClient,\n  transaction_id = code\n) |&gt; select(where(~ !inherits(.x, \"Date\")))\n\ndim_clients |&gt; glimpse()\n\nRows: 4,532\nColumns: 4\n$ client_id      &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, …\n$ nom            &lt;chr&gt; \"Avivia\", \"\", \"Avivia\", \"Avivia\", \"Avivia\", \"Avivia\", \"…\n$ type           &lt;chr&gt; \"particulier\", \"particulier\", \"particulier\", \"particuli…\n$ transaction_id &lt;chr&gt; \"C-000089\", \"C-000093\", \"C-000115\", \"C-000119\", \"C-0001…\n\n\n\n\n5.1.3 dim representant\n\ndim_representants &lt;- projets_clean |&gt; transmute(\n  representant_id = row_number(),\n  nom = nomRepresentant,\n  codeRepresentant = codeRepresentant,\n  projet_id = code\n) |&gt; select(where(~ !inherits(.x, \"Date\")))\n\n\ndim_representants |&gt; glimpse()\n\nRows: 2,035\nColumns: 4\n$ representant_id  &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16…\n$ nom              &lt;chr&gt; \"Mr Robert\", \"\", \"\", \"\", \"\", \"Mr Robert\", \"\", \"\", \"Mr…\n$ codeRepresentant &lt;chr&gt; \"003\", \"\", \"\", \"\", \"\", \"003\", \"\", \"\", \"003\", \"003\", \"…\n$ projet_id        &lt;chr&gt; \"P-000001\", \"P-000002\", \"P-000004\", \"P-000006\", \"P-00…\n\n\n\n\n5.1.4 dim adresses\n\ndim_adresses  &lt;- adresses_clean |&gt; mutate(\n  adresse_id = row_number()\n) |&gt; select(where(~ !inherits(.x, \"Date\")))\n\ndim_adresses |&gt; glimpse()\n\nRows: 21,263\nColumns: 14\n$ codePost   &lt;chr&gt; \"G0X2B0\", \"G0A1L0\", \"G0X2B0\", \"G0A1L0\", \"G0X2B0\", \"G0A1L0\",…\n$ etatProv   &lt;chr&gt; \"Quebec\", \"Quebec\", \"Quebec\", \"Quebec\", \"Quebec\", \"Quebec\",…\n$ ligne1     &lt;chr&gt; \"20 Route Goulet\", \"110, route 138\", \"20 Route Goulet\", \"11…\n$ ligne2     &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\",…\n$ pays       &lt;chr&gt; \"Canada\", \"Canada\", \"Canada\", \"Canada\", \"Canada\", \"Canada\",…\n$ region     &lt;chr&gt; \"R1\", \"R1\", \"R1\", \"R1\", \"R1\", \"R1\", \"R1\", \"R1\", \"R1\", \"R1\",…\n$ ville      &lt;chr&gt; \"Saint-Séverin-de-Proulxville\", \"Cap-Santé\", \"Saint-Séverin…\n$ usage      &lt;chr&gt; \"Fact\", \"Exped\", \"Fact\", \"Exped\", \"Fact\", \"Exped\", \"Fact\", …\n$ code       &lt;chr&gt; \"Fact\", \"ShowRoom\", \"Fact\", \"ShowRoom\", \"Fact\", \"ShowRoom\",…\n$ sorte      &lt;chr&gt; \"\", \"WAREHOUSE\", \"\", \"WAREHOUSE\", \"\", \"WAREHOUSE\", \"\", \"WAR…\n$ projet_id  &lt;chr&gt; \"P-000001\", \"P-000001\", \"P-000001\", \"P-000001\", \"P-000001\",…\n$ nom        &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"Janin Bern…\n$ contact    &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\",…\n$ adresse_id &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, …\n\n\n\n\n5.1.5 dim projet\n\ndim_projets &lt;- projets_clean %&gt;%\n  select(where(~ !inherits(.x, \"Date\"))) %&gt;%   # exclure les colonnes Date\n  select(!contains(c(\"client\", \"Representant\"))) |&gt;\n  rename(projet_id = code)\n  # exclure les colonnes qui \n  \ndim_projets |&gt; glimpse()\n\nRows: 2,035\nColumns: 13\n$ projet_id        &lt;chr&gt; \"P-000001\", \"P-000002\", \"P-000004\", \"P-000006\", \"P-00…\n$ marche           &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"Quebec\", \"\", \"\", \"\", \"\",…\n$ division         &lt;chr&gt; \"Division_1\", \"Division_1\", \"Division_1\", \"Division_1…\n$ courrielContact  &lt;chr&gt; \"info@avivia.ca\", \"\", \"\", \"\", \"\", \"info@avivia.ca\", \"…\n$ nomContact       &lt;chr&gt; \"Mr Contact\", \"\", \"\", \"\", \"\", \"Mr Contact\", \"\", \"\", \"…\n$ telephoneContact &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"…\n$ coordsCommTxt    &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"Tel.…\n$ coordsExpedTxt   &lt;chr&gt; \"110, route 138, Cap-Santé, Quebec, G0A1L0, Canada\", …\n$ coordsFactTxt    &lt;chr&gt; \"20 Route Goulet, Saint-Séverin-de-Proulxville, Quebe…\n$ estReprise       &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALS…\n$ enFusion         &lt;lgl&gt; TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, FALSE, FALS…\n$ createurNom      &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"Claudia Robitaille\", \"Ch…\n$ createurCourriel &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"crobitaille@avivia.ca\", …\n\n\n\n\n5.1.6 tables des faits\n\ntransactions &lt;- bind_rows(commandes_clean,contrats_clean)\n\n# Associer chaque date de transactions à un date_id\ntransactions &lt;- transactions |&gt;\n  left_join(dim_dates |&gt; select(date_id, date), by = c(\"dateCreation\" = \"date\")) |&gt;\n  rename(date_creation_id = date_id) |&gt;\n  left_join(dim_dates |&gt; select(date_id, date), by = c(\"dateValidite\" = \"date\")) |&gt;\n  rename(date_validite_id = date_id) |&gt;\n  left_join(dim_dates |&gt; select(date_id, date), by = c(\"datePrevExped\" = \"date\")) |&gt;\n  rename(date_prev_exped_id = date_id)\n\ntransactions &lt;- transactions |&gt; select(where(~ !inherits(.x, \"Date\")))\ntransactions &lt;- transactions |&gt; rename(projet_id = projet)\n\ntransactions |&gt; glimpse()\n\nRows: 3,818\nColumns: 47\n$ code                   &lt;chr&gt; \"C-000089\", \"C-000093\", \"C-000115\", \"C-000119\",…\n$ nomClient              &lt;chr&gt; \"Avivia\", \"\", \"Avivia\", \"Avivia\", \"Avivia\", \"Av…\n$ codeClient2            &lt;chr&gt; \"Avivia\", \"\", \"Avivia\", \"Avivia\", \"Avivia\", \"Av…\n$ typeClient             &lt;chr&gt; \"particulier\", \"particulier\", \"particulier\", \"p…\n$ delaiPrevExped         &lt;dbl&gt; 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,…\n$ nbJourValide           &lt;dbl&gt; 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 0, …\n$ statutCred             &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE…\n$ validCred              &lt;lgl&gt; TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE,…\n$ total                  &lt;dbl&gt; 764.35, 0.00, 0.00, 0.00, 0.00, 8307.06, 348.28…\n$ totalHT                &lt;dbl&gt; 664.80, 0.00, 0.00, 0.00, 0.00, 7225.10, 348.28…\n$ sousTotal              &lt;dbl&gt; 346.43, 330.66, 0.00, 0.00, 0.00, 1935.55, 348.…\n$ sousTotal2             &lt;dbl&gt; 0.00, 0.00, 0.00, 0.00, 0.00, 6935.55, 348.28, …\n$ totalLivraison         &lt;dbl&gt; 318.37, 0.00, 0.00, 0.00, 0.00, 289.55, 0.00, 2…\n$ totalInstall           &lt;dbl&gt; 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 1499.…\n$ totalCEM               &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…\n$ qteItems               &lt;dbl&gt; 2, 4, 0, 0, 0, 10, 2, 26, 0, 8, 0, 0, 6, 2, 0, …\n$ qteItemsCab            &lt;dbl&gt; 1, 1, 0, 0, 0, 4, 1, 12, 0, 3, 0, 0, 2, 1, 0, 1…\n$ promotions             &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…\n$ createurNom            &lt;chr&gt; \"Techdunin\", \"Ghislain\", \"client\", \"client\", \"c…\n$ createurCourriel       &lt;chr&gt; \"malavoie@dunin.com\", \"glebel@avivia.ca\", \"gleb…\n$ division               &lt;chr&gt; \"Division_1\", \"Division_1\", \"Division_1\", \"Divi…\n$ projet_id              &lt;chr&gt; \"P-000175\", \"P-000181\", \"P-000219\", \"P-000223\",…\n$ estImport              &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE…\n$ estReprise             &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE…\n$ estCQ                  &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE…\n$ avecLivraison          &lt;lgl&gt; TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE,…\n$ installation           &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE…\n$ totalTx1               &lt;dbl&gt; 33.24, 0.00, 0.00, 0.00, 0.00, 361.26, 0.00, 60…\n$ totalTx2               &lt;dbl&gt; 66.31, 0.00, 0.00, 0.00, 0.00, 720.70, 0.00, 12…\n$ ecartPrix              &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…\n$ solde                  &lt;dbl&gt; 764.35, 0.00, 0.00, 0.00, 0.00, 8307.06, 348.28…\n$ psd                    &lt;lgl&gt; FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, TRUE, …\n$ totalComptoirBois      &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…\n$ totalComptoirGranite   &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…\n$ totalComptoirQuartz    &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…\n$ totalComptoirStratifie &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…\n$ totalEsc               &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…\n$ montantEcartPrix       &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…\n$ fraisPSD               &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…\n$ fraisPDM               &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…\n$ fraisSAV               &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…\n$ TotalEscompte          &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…\n$ codePost               &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…\n$ codePostFinal          &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…\n$ date_creation_id       &lt;int&gt; 20230830, 20230831, 20230914, 20230914, 2023103…\n$ date_validite_id       &lt;int&gt; 20231128, NA, NA, NA, NA, 20240304, NA, NA, NA,…\n$ date_prev_exped_id     &lt;int&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…\n\n\n\n\n5.1.7 kits\n\nfact_kits &lt;-kits_clean |&gt;  select(where(~ !inherits(.x, \"Date\")))\n\nfact_kits |&gt; glimpse()\n\nRows: 24,502\nColumns: 114\n$ code                        &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ nom                         &lt;chr&gt; \"Contour\", \"Contour\", \"Contour\", \"Contour\"…\n$ qte                         &lt;dbl&gt; 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ qteTr                       &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ typeKit                     &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ unit                        &lt;chr&gt; \"***\", \"***\", \"***\", \"***\", \"***\", \"***\", …\n$ sousTotalKit                &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ sousTotalKitEff             &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ sousTotal                   &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ sousTotalEff                &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ totalComptoir               &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ totalComptoirEff            &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ nbComptoir                  &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ longComptoir                &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ surfaceComptoir             &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ cumulComptoir               &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ extraComptoir               &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ comptoirMod                 &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ comptoirCouleur             &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ comptoirGpCouleur           &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ sousTotalCab                &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ sousTotalPanel              &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ sousTotalMoulure            &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ sousTotalAutre              &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ assemblage                  &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ gamme                       &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ serie                       &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ finishColor                 &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ edgeColle                   &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ edgeBanding                 &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ bd_edgeBanding              &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ df_edgeBanding              &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ wd_edgeBanding              &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ edgePorte                   &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ edgeTablette                &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ handle                      &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ handleOri                   &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ bd_handle                   &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ bd_handleOri                &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ df_handle                   &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ df_handleOri                &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ cabDesign                   &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ cabConstruct                &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ cabHinge                    &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ cabWallProf                 &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ t_cabWallProf               &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ cabHautComptoir             &lt;dbl&gt; 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, …\n$ t_cabHautComptoir           &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ cabDegagementWall           &lt;dbl&gt; 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.…\n$ t_cabDegagementWall         &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ cabToeKickHeight            &lt;dbl&gt; 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.…\n$ t_cabToeKickHeight          &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ cabToeKickProf              &lt;dbl&gt; 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.…\n$ t_cabToeKickProf            &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ cabToeKickType              &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ cabAlignBase                &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ t_cabAlignBase              &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ cabTallHeightAlign          &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ t_cabTallHeightAlign        &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ cabTypeComptoir             &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ tabletteType                &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ drawerConst                 &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ drawerSlide                 &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ matPatte                    &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ patteAchetee                &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ equerre                     &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ cacheNeon                   &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ beamModele                  &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ beamHeight                  &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ t_beamHeight                &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ ligne                       &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ contrat_id                  &lt;chr&gt; \"P-000390-S1\", \"P-000390-S2\", \"P-000554-S1…\n$ commande_id                 &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ estBloqPrix                 &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, …\n$ estPrixAdmin                &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, …\n$ estExtra                    &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, …\n$ enErreur                    &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, …\n$ signature                   &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ kitUtilisation              &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ specie                      &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ bd_specie                   &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ df_specie                   &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ bd_serie                    &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ df_serie                    &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ bd_finishColor              &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ df_finishColor              &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ porteModeleB                &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ porteModeleH                &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ porteModeleFacadeB          &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ porteModeleFacadeH          &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ porteModeleBSensGrain       &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ porteModeleHSensGrain       &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ porteModeleFacadeBSensGrain &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ porteModeleFacadeHSensGrain &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ porteModeleB_epais          &lt;dbl&gt; 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, …\n$ t_porteModeleB_epais        &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ porteModeleH_epais          &lt;dbl&gt; 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, …\n$ t_porteModeleH_epais        &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ porteModeleFacadeB_epais    &lt;dbl&gt; 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, …\n$ t_porteModeleFacadeB_epais  &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ porteModeleFacadeH_epais    &lt;dbl&gt; 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, …\n$ t_porteModeleFacadeH_epais  &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ moulLumModele               &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ moulLumHeight               &lt;dbl&gt; 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.…\n$ t_moulLumHeight             &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ moulPiedModele              &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ moulPiedHeight              &lt;dbl&gt; 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.…\n$ t_moulPiedHeight            &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ detailSection               &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ aBomCustom                  &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ couleurEstBois              &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ items                       &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ typeColor                   &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n$ psd                         &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, …\n\n\n\n\n5.1.8 etapes\n\nfact_etapes &lt;-etapes_clean |&gt;  select(where(~ !inherits(.x, \"Date\")))\nfact_etapes|&gt; glimpse()\n\nRows: 11,664\nColumns: 6\n$ createur      &lt;chr&gt; \"dunintech\", \"dunintech\", \"dunintech\", \"glebel\", \"glebel…\n$ emplacement   &lt;chr&gt; \"Manufacturier\", \"Manufacturier\", \"Manufacturier\", \"Manu…\n$ statut        &lt;chr&gt; \"Saisie\", \"Saisie\", \"Saisie\", \"Saisie\", \"Saisie\", \"Saisi…\n$ tempsCreation &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…\n$ commande_id   &lt;chr&gt; \"C-000001\", \"C-000001\", \"C-000001\", \"C-000002\", \"C-00000…\n$ contrat_id    &lt;chr&gt; \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", …\n\n\n\n\n5.1.9 lumieres\n\nfact_lumieres &lt;-lumieres_clean |&gt;  select(where(~ !inherits(.x, \"Date\")))\nfact_lumieres |&gt; glimpse()\n\nRows: 2,826\nColumns: 3\n$ modele     &lt;chr&gt; \"PUCK120mm_NI\", \"PUCK79mm_NI\", \"PUCK120mm_NI\", \"PUCK79mm_NI…\n$ qte        &lt;dbl&gt; 2, 5, 2, 5, 2, 5, 4, 4, 4, 4, 4, 4, 3, 3, 3, 7, 7, 7, 7, 7,…\n$ contrat_id &lt;chr&gt; \"P-000390-S1\", \"P-000390-S1\", \"P-000390-S1\", \"P-000390-S1\",…",
    "crumbs": [
      "Phase 1 : collecte de données",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Chargement des données</span>"
    ]
  }
]